{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/arcgisLayers.js","webpack:///./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","s","t","r","url","serverType","sublayer","o","y","c","FeatureServer","StreamServer","VectorTileServer","e","i","tileInfo","then","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","a","layerType","d","FeatureLayer","SceneLayer","f","I","parsedUrl","Constructor","layerOrTableId","sublayerIds","tableIds","b","l","n","filter","u","serviceJSON","currentVersion","layersJSON","tables","layerIds","map","id","reverse","layerInfos","tableInfos","sublayerInfos","p","v","sourceJSON","properties","layerId","default","title","sublayerTitleMode","forEach","add","find","type","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"js/chunk-59f29c8d.c91ff174.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import t from\"../../request.js\";import{parse as l}from\"./arcgisLayerUrl.js\";import{layerLookupMap as n}from\"./lazyLayerLoader.js\";async function s(t){const s=await async function(r){const t=l(r);if(e(t))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:s,sublayer:o}=t;let y;const c={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(s){case\"MapServer\":y=null!=o?\"FeatureLayer\":async function(e){return(await i(e)).tileInfo}(r).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":y=i(r).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":y=i(t.url.path).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:y=c[s]}const d={FeatureLayer:!0,SceneLayer:!0},f=\"FeatureServer\"===s,I={parsedUrl:t,Constructor:null,layerOrTableId:f?o:null,sublayerIds:null,tableIds:null},b=await y;if(d[b]&&null==o){const e=await async function(e,r){var a,t;let l,n=!1;if(\"FeatureServer\"===r){const r=await async function(e){var r,a;let t=await i(e);t=t||{},t.layers=(null==(r=t.layers)?void 0:r.filter(u))||[];const l={serviceJSON:t};if(t.currentVersion<10.5)return l;const n=await i(e+\"/layers\");return l.layersJSON={layers:(null==n||null==(a=n.layers)?void 0:a.filter(u))||[],tables:(null==n?void 0:n.tables)||[]},l}(e);n=!!r.layersJSON,l=r.layersJSON||r.serviceJSON}else l=await i(e);const s=null==(a=l)?void 0:a.layers,o=null==(t=l)?void 0:t.tables;return{layerIds:(null==s?void 0:s.map((e=>e.id)).reverse())||[],tableIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],layerInfos:n?s:[],tableInfos:n?o:[]}}(r,s);f&&(I.sublayerInfos=e.layerInfos,I.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)I.sublayerIds=e.layerIds,I.tableIds=e.tableIds;else if(f){var p,v;I.layerOrTableId=null!=(p=e.layerIds[0])?p:e.tableIds[0],I.sourceJSON=null!=(v=e.layerInfos[0])?v:e.tableInfos[0]}}return I.Constructor=await async function(e){return(0,n[e])()}(b),I}(t.url),y={...t.properties,url:t.url};if(!s.sublayerIds)return null!=s.layerOrTableId&&(y.layerId=s.layerOrTableId,y.sourceJSON=s.sourceJSON),new s.Constructor(y);const c=new(0,(await import(\"../GroupLayer.js\")).default)({title:s.parsedUrl.title});return function(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,o(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,o(a.tableInfos,r));e.tables.add(t)}))}(c,s,y),c}function o(e,r){return e?e.find((e=>e.id===r)):null}function u(e){return!e.type||\"Feature Layer\"===e.type}async function i(e){return(await t(e,{responseType:\"json\",query:{f:\"json\"}})).data}export{s as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}