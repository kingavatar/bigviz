{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/layers/WMSLayerView.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","webpack:///./node_modules/@arcgis/core/views/layers/LayerView.js","webpack:///./node_modules/@arcgis/core/views/layers/support/ClipArea.js","webpack:///./node_modules/@arcgis/core/views/layers/support/ClipRect.js","webpack:///./node_modules/@arcgis/core/views/layers/support/Geometry.js","webpack:///./node_modules/@arcgis/core/views/layers/support/Path.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","webpack:///./node_modules/@arcgis/core/layers/support/wmsUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","webpack:///./node_modules/@arcgis/core/views/2d/viewStateUtils.js","webpack:///./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","webpack:///./node_modules/@arcgis/core/views/2d/engine/Bitmap.js"],"names":["i","c","e","layer","r","this","popupEnabled","t","createFetchPopupFeaturesQuery","extent","width","u","height","a","x","n","y","h","m","fetchFeatureInfo","then","prototype","getLogger","g","view","supportsSpatialReference","spatialReference","addResolvingPromise","strategy","update","catch","error","imageMaxHeight","imageMaxWidth","_bitmapContainer","container","addChild","fetchSource","fetchImage","bind","requestUpdate","imageRotationSupported","imageNormalizationSupported","hidpi","_exportWMSImageParameters","handles","add","watch","_exportImageVersion","remove","destroy","removeChild","removeAllChildren","s","o","children","some","resolution","d","l","xmin","ymin","xmax","ymax","Math","round","updating","updateRequested","timeExtent","timestamp","refreshTimestamp","dependsOn","f","registerRenderPass","name","brushes","bitmap","target","drawPhase","MAP","super","prepareRenderPasses","EventedMixin","parent","when","id","title","declaredClass","get","canResume","getSuspendInfo","suspended","legendEnabled","updatingHandles","isUpdating","_override","_clearOverride","visible","suspendInfo","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","readOnly","type","Boolean","p","arguments","left","right","top","bottom","_get","Number","String","json","write","base","key","typeMap","polygon","geometry","clone","types","read","path","ofType","rect","clips","moving","attached","lastUpdateId","fadeTransitionEnabled","opacity","blendMode","effect","on","notifyChange","whenLayerView","destroyed","attach","detach","minScale","maxScale","isFulfilled","isResolved","_set","isVisibleAtScale","scale","pixelBlock","originalPixelBlock","filter","getAsRGBA","createImageData","data","set","putImageData","renderedRasterPixels","Uint8Array","buffer","84","83","27","idCounter","DOMParser","parseFromString","documentElement","nodeName","Array","slice","call","childNodes","map","textContent","join","getAttribute","N","b","parseInt","A","E","I","L","M","O","w","F","forEach","sublayers","push","v","fullExtents","length","toJSON","spatialReferences","C","T","indexOf","queryable","R","V","_","U","dimensions","q","reduce","concat","B","S","D","POSITIVE_INFINITY","NEGATIVE_INFINITY","isArray","Date","min","getTime","max","startTimeField","endTimeField","trackIdField","copyright","description","featureInfoFormat","featureInfoUrl","mapUrl","maxWidth","maxHeight","layers","supportedImageFormatTypes","timeInfo","version","parseFloat","isNaN","MAX_VALUE","wkid","substring","query","hasOwnProperty","toLowerCase","parentLayerId","split","legendURL","test","units","default","multipleValues","nearestValue","current","unitSymbol","nodeType","Node","ELEMENT_NODE","match","years","months","days","hours","minutes","seconds","replace","toISOString","_layerHandles","_scale","removeAll","propertyName","visibleSublayers","unshift","latestWkid","imageFormat","imageTransparency","bbox","format","request","service","styles","transparent","crs","srs","autoTracked","PI","rotation","abs","cos","sin","size","j","_imagePromise","state","pixelRatio","stationary","floor","valid","_singleExport","worldScreenWidth","_tiledExport","async","Promise","all","fadeIn","includes","fadeOut","stage","console","invalidateTexture","requestRender","signal","center","_export","create","scales","getTileCoverage","getTileBounds","pixelFormat","internalFormat","dataType","wrapMode","requestRenderOnSourceChangedEnabled","_textureInvalidated","stencilRef","coordScale","_height","_source","_width","transforms","dvs","source","_texture","dispose","sourceWidth","sourceHeight","HTMLImageElement","naturalHeight","naturalWidth","beforeRender","updateTexture","toScreenNoRotation","displayViewMat3","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","context","bindTexture","resize","getRenderedRasterPixels","setData","document","createElement","render","getContext"],"mappings":"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","file":"js/chunk-33d8f892.877f9252.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as s,resolve as p}from\"../../core/promiseUtils.js\";const i=i=>{let c=class extends i{async fetchPopupFeatures(e){const{layer:r}=this;if(!e)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:r}));const{popupEnabled:t}=r;if(!t)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:t}));const i=this.createFetchPopupFeaturesQuery(e),{extent:c,width:u,height:a,x:n,y:h}=i;if(!(c&&u&&a))throw new o(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:c,width:u,height:a});const m=r.fetchFeatureInfo(c,u,a,n,h);return m?m.then((e=>[e])):p([])}};return e([r()],c.prototype,\"layer\",void 0),c=e([t(\"esri.layers.mixins.WMSLayerView\")],c),c};export{i as WMSLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as a,isAbortError as o}from\"../../../core/promiseUtils.js\";import p from\"../../../geometry/Extent.js\";import{RefreshableLayerView as m}from\"../../layers/RefreshableLayerView.js\";import n from\"../../../layers/support/ExportWMSImageParameters.js\";import h from\"../../layers/LayerView.js\";import{WMSLayerView as d}from\"../../layers/WMSLayerView.js\";import{BitmapContainer as l}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import u from\"./support/ExportStrategy.js\";const y=t.getLogger(\"esri.views.2d.layers.WMSLayerView2D\");let g=class extends(d(m(c(h)))){initialize(){const{layer:e,view:t}=this;e.supportsSpatialReference(t.spatialReference)||this.addResolvingPromise(a(new s(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\",{layer:e})))}hitTest(){return null}update(e){this.strategy.update(e).catch((e=>{o(e)||y.error(e)}))}attach(){const{layer:e,view:t}=this,{imageMaxHeight:r,imageMaxWidth:i}=e;this._bitmapContainer=new l,this.container.addChild(this._bitmapContainer),this.strategy=new u({container:this._bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:r,imageMaxWidth:i,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this._exportWMSImageParameters=new n({layer:e,view:t}),this.handles.add(this._exportWMSImageParameters.watch(\"version\",(e=>{this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())})),\"wms\")}detach(){this.handles.remove(\"wms\"),this.strategy.destroy(),this._exportWMSImageParameters.layer=null,this._exportWMSImageParameters.destroy(),this._exportWMSImageParameters=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t}=this,r=this._bitmapContainer,{x:i,y:s}=e,{spatialReference:a}=t;let o=null,m=0,n=0;r.children.some((e=>{const{width:t,height:r,resolution:h,x:d,y:l}=e,c=d+h*t,u=l-h*r;return i>=d&&i<=c&&s<=l&&s>=u&&(o=new p({xmin:d,ymin:u,xmax:c,ymax:l,spatialReference:a}),m=t,n=r,!0)}));const h=o.width/m,d=Math.round((i-o.xmin)/h),l=Math.round((o.ymax-s)/h);return{extent:o,width:m,height:n,x:d,y:l}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImage(e,t,r,{timeExtent:this._exportWMSImageParameters.timeExtent,timestamp:this.refreshTimestamp,...i})}};e([r()],g.prototype,\"strategy\",void 0),e([r({dependsOn:[\"strategy.updating\"]})],g.prototype,\"updating\",void 0),g=e([i(\"esri.views.2d.layers.WMSLayerView2D\")],g);var f=g;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./webgl/enums.js\";import{brushes as r}from\"./brushes.js\";import s from\"./webgl/WGLContainer.js\";class t extends s{prepareRenderPasses(s){const t=s.registerRenderPass({name:\"bitmap\",brushes:[r.bitmap],target:()=>this.children,drawPhase:e.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let d=class extends(a(o(l(n.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r({dependsOn:[\"layer.opacity\",\"parent.fullOpacity\"]})],d.prototype,\"fullOpacity\",null),e([r()],d.prototype,\"layer\",void 0),e([r()],d.prototype,\"parent\",void 0),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspended\",null),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspendInfo\",null),e([r({readOnly:!0,dependsOn:[\"suspended\",\"layer.legendEnabled?\"]})],d.prototype,\"legendEnabled\",null),e([r({type:Boolean,dependsOn:[\"updatingHandles.updating\"],readOnly:!0})],d.prototype,\"updating\",null),e([r({dependsOn:[\"layer.visible\"]})],d.prototype,\"visible\",null),d=e([s(\"esri.views.layers.LayerView\")],d);var p=d;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"bottom\",void 0),t([r({readOnly:!0,dependsOn:[\"left\",\"right\",\"top\",\"bottom\"]})],p.prototype,\"version\",null),p=s=t([o(\"esri.views.layers.support.ClipRect\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var n;const y={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let c=n=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new n({geometry:this.geometry.clone()})}};r([e({types:y,json:{read:m,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0,dependsOn:[\"geometry\"]})],c.prototype,\"version\",null),c=n=r([o(\"esri.views.layers.support.Geometry\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0,dependsOn:[\"path\"]})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as a}from\"../../../core/watchUtils.js\";import o from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as n}from\"../engine/Container.js\";import h from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:o,typeMap:{rect:p,path:d,geometry:h}}),l=i=>{let o=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var e;this.container||(this.container=new n),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([a(this,\"suspended\",(e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),!0),a(this,[\"layer.opacity\",\"container\"],(()=>{var e,t;this.container&&(this.container.opacity=null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1)}),!0),a(this,[\"layer.blendMode\"],(e=>{this.container&&(this.container.blendMode=e)}),!0),a(this,[\"layer.effect\"],(e=>{this.container&&(this.container.effect=e)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(e){let t=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&e<=i&&(s=!0),!a&&e>=r&&(a=!0),t=s&&a}return t}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return e([t({type:c,set(e){const t=r(e,this._get(\"clips\"),c);this._set(\"clips\",t)}})],o.prototype,\"clips\",void 0),e([t()],o.prototype,\"moving\",void 0),e([t()],o.prototype,\"attached\",void 0),e([t()],o.prototype,\"container\",void 0),e([t({dependsOn:[\"view.scale\",\"layer.minScale\",\"layer.maxScale\"]})],o.prototype,\"suspended\",void 0),e([t({readOnly:!0})],o.prototype,\"updateParameters\",void 0),e([t()],o.prototype,\"updateRequested\",void 0),e([t({dependsOn:[\"attached\",\"updateRequested\",\"suspended\"]})],o.prototype,\"updating\",null),e([t()],o.prototype,\"view\",void 0),o=e([s(\"esri.views.2d.layers.LayerView2D\")],o),o};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const i=this.filter({pixelBlock:t}),l=i.pixelBlock.getAsRGBA(),h=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);h.data.set(l),e.putImageData(h,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import n from\"../../geometry/SpatialReference.js\";import r from\"../../geometry/Extent.js\";const i=[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],a={84:4326,83:4269,27:4267};function s(t){if(!t)return null;const n={idCounter:-1};if(\"string\"==typeof t){t=(new DOMParser).parseFromString(t,\"text/xml\")}const i=t.documentElement;if(\"ServiceExceptionReport\"===i.nodeName){const t=Array.prototype.slice.call(i.childNodes).map((e=>e.textContent)).join(\"\\r\\n\");throw new e(\"wmslayer:wms-capabilities-xml-is-not-valid\",\"The server returned errors when the WMS capabilities were requested.\",t)}const a=m(\"Capability\",i),s=m(\"Service\",i),o=m(\"Request\",a);if(!a||!s||!o)return null;const l=m(\"Layer\",a);if(!l)return null;const c=\"WMS_Capabilities\"===i.nodeName||\"WMT_MS_Capabilities\"===i.nodeName?i.getAttribute(\"version\"):\"1.3.0\",f=d(\"Title\",s,\"\")||d(\"Name\",s,\"\"),p=d(\"AccessConstraints\",s,\"\"),N=d(\"Abstract\",s,\"\"),b=parseInt(d(\"MaxWidth\",s,\"5000\"),10),y=parseInt(d(\"MaxHeight\",s,\"5000\"),10),A=x(o,\"GetMap\"),E=h(o,\"GetMap\"),I=g(l,c,n);let L,F=0;if(Array.prototype.slice.call(a.childNodes).forEach((e=>{\"Layer\"===e.nodeName&&(0===F?L=e:1===F?(I.name&&(I.name=\"\",I.sublayers.push(g(L,c,n))),I.sublayers.push(g(e,c,n))):I.sublayers.push(g(e,c,n)),F++)})),!I)return null;let M,O,w;const v=I.fullExtents;if(M=I.sublayers,M||(M=[]),0===M.length&&M.push(I),O=I.extent,!O){const e=new r(M[0].extent);I.extent=e.toJSON(),O=I.extent}if(w=I.spatialReferences,!w.length&&M.length>0){const e=t=>{let n=[];return t.sublayers.forEach((t=>{!n.length&&t.spatialReferences.length&&(n=t.spatialReferences||e(t))})),n};M.forEach((t=>{w.length||(w=t.spatialReferences||e(t))}))}const C=h(o,\"GetFeatureInfo\");let T;if(C){const e=x(o,\"GetFeatureInfo\");e.indexOf(\"text/html\")>-1?T=\"text/html\":e.indexOf(\"text/plain\")>-1&&(T=\"text/plain\")}if(!T){const e=function(t){t&&(t.queryable=!1,t.sublayers&&t.sublayers.forEach((t=>{e(t)})))};e(I)}const R=u(M),V=I.minScale||0,_=I.maxScale||0,U=I.dimensions,q=R.reduce(((e,t)=>e.concat(t.dimensions)),[]),B=U.concat(q).filter(S);let D=null;if(B.length>0){let e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;B.forEach((n=>{const{extent:r}=n;var i;i=r,Array.isArray(i)&&i.length>0&&i[0]instanceof Date?r.forEach((n=>{e=Math.min(e,n.getTime()),t=Math.max(t,n.getTime())})):r.forEach((n=>{e=Math.min(e,n.min.getTime()),t=Math.max(t,n.max.getTime())}))})),D={startTimeField:null,endTimeField:null,trackIdField:null,timeExtent:[e,t]}}return{copyright:p,description:N,dimensions:U,extent:O,fullExtents:v,featureInfoFormat:T,featureInfoUrl:C,mapUrl:E,maxWidth:b,maxHeight:y,maxScale:_,minScale:V,layers:R,spatialReferences:w,supportedImageFormatTypes:A,timeInfo:D,title:f,version:c}}function o(e){return i.some((t=>{const n=t[0],r=t[1];return e>=n&&e<=r}))}function l(e){return e.length?e.filter((e=>e.popupEnabled&&e.name&&e.queryable)).map((e=>e.name)).join(\",\"):\"\"}function u(e){let t=[];return e.forEach((e=>{t.push(e),e.sublayers&&e.sublayers.length&&(t=t.concat(u(e.sublayers)),delete e.sublayers)})),t}function c(e,t,n){var r;return null!=(r=t.getAttribute(e))?r:n}function m(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(b(r)&&r.nodeName===e)return r}return null}function f(e,t){const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];b(i)&&i.nodeName===e&&n.push(i)}return n}function d(e,t,n){const r=m(e,t);return r?r.textContent:n}function p(e,t,i){if(!e)return null;const a=parseFloat(e.getAttribute(\"minx\")),s=parseFloat(e.getAttribute(\"miny\")),o=parseFloat(e.getAttribute(\"maxx\")),l=parseFloat(e.getAttribute(\"maxy\"));let u,c,m,f;i?(u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(a)?-Number.MAX_VALUE:a,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(o)?Number.MAX_VALUE:o):(u=isNaN(a)?-Number.MAX_VALUE:a,c=isNaN(s)?-Number.MAX_VALUE:s,m=isNaN(o)?Number.MAX_VALUE:o,f=isNaN(l)?Number.MAX_VALUE:l);const d=new n({wkid:t});return new r({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function h(e,n){const r=m(n,e);if(r){const e=m(\"DCPType\",r);if(e){const n=m(\"HTTP\",e);if(n){const e=m(\"Get\",n);if(e){let n=function(e,t,n,r){const i=m(e,n);return i?c(t,i,r):r}(\"OnlineResource\",\"xlink:href\",e,null);if(n)return n.indexOf(\"&\")===n.length-1&&(n=n.substring(0,n.length-1)),function(e,n){const r=[],i=t(e);for(const e in i.query)i.query.hasOwnProperty(e)&&-1===n.indexOf(e.toLowerCase())&&r.push(e+\"=\"+i.query[e]);return i.path+(r.length?\"?\"+r.join(\"&\"):\"\")}(n,[\"service\",\"request\"])}}}}return null}function x(e,t){const n=f(\"Operation\",e);if(0===n.length){return f(\"Format\",m(t,e)).map((e=>e.textContent))}const r=[];return n.forEach((e=>{if(e.getAttribute(\"name\")===t){f(\"Format\",e).forEach((e=>{r.push(e.textContent)}))}})),r}function N(e,t,n){const r=m(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||\"\"===i)return n;const a=Number(i);return isNaN(a)?n:a}function g(e,t,i){var s;if(!e)return null;const l={id:i.idCounter++,fullExtents:[],parentLayerId:null,queryable:\"1\"===e.getAttribute(\"queryable\"),spatialReferences:[],sublayers:null},u=m(\"LatLonBoundingBox\",e),h=m(\"EX_GeographicBoundingBox\",e);let x=null;u&&(x=p(u,4326)),h&&(x=new r(0,0,0,0,new n({wkid:4326})),x.xmin=parseFloat(d(\"westBoundLongitude\",h,\"0\")),x.ymin=parseFloat(d(\"southBoundLatitude\",h,\"0\")),x.xmax=parseFloat(d(\"eastBoundLongitude\",h,\"0\")),x.ymax=parseFloat(d(\"northBoundLatitude\",h,\"0\"))),u||h||(x=new r(-180,-90,180,90,new n({wkid:4326}))),l.minScale=N(e,\"MaxScaleDenominator\",0),l.maxScale=N(e,\"MinScaleDenominator\",0);const b=[\"1.0.0\",\"1.1.0\",\"1.1.1\"].indexOf(t)>-1?\"SRS\":\"CRS\";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if(\"Name\"===e.nodeName)l.name=e.textContent||\"\";else if(\"Title\"===e.nodeName)l.title=e.textContent||\"\";else if(\"Abstract\"===e.nodeName)l.description=e.textContent||\"\";else if(\"BoundingBox\"===e.nodeName){const n=e.getAttribute(b);if(n&&0===n.indexOf(\"EPSG:\")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||x||(x=\"1.3.0\"===t?p(e,r,o(r)):p(e,r))}const r=n&&n.indexOf(\":\");if(r&&r>-1){let i=parseInt(n.substring(r+1,n.length),10);0===i||isNaN(i)||(i=a[i]?a[i]:i);const s=\"1.3.0\"===t?p(e,i,o(i)):p(e,i);l.fullExtents.push(s)}}else if(e.nodeName===b){e.textContent.split(\" \").forEach((e=>{0===(e=e.indexOf(\":\")>-1?parseInt(e.split(\":\")[1],10):parseInt(e,10))||isNaN(e)||(a[e]&&(e=a[e]),-1===l.spatialReferences.indexOf(e)&&l.spatialReferences.push(e))}))}else if(\"Style\"!==e.nodeName||l.legendURL){if(\"Layer\"===e.nodeName){const n=g(e,t,i);n&&(n.parentLayerId=l.id,l.sublayers||(l.sublayers=[]),l.sublayers.push(n))}}else{const t=m(\"LegendURL\",e);if(t){const e=m(\"OnlineResource\",t);e&&(l.legendURL=e.getAttribute(\"xlink:href\"))}}})),l.extent=null==(s=x)?void 0:s.toJSON(),l.dimensions=f(\"Dimension\",e).filter((e=>e.getAttribute(\"name\")&&e.getAttribute(\"units\")&&e.textContent)).map((e=>{const t=e.getAttribute(\"name\"),n=e.getAttribute(\"units\"),r=e.textContent,i=e.getAttribute(\"unitSymbol\"),a=e.getAttribute(\"default\"),s=\"0\"!==c(\"default\",e,\"0\"),o=\"0\"!==c(\"nearestValue\",e,\"0\"),l=\"0\"!==c(\"current\",e,\"0\");if(/^time$/i.test(t)&&/^ISO8601$/i.test(n)){return{name:\"time\",units:\"ISO8601\",extent:F(r),default:F(a),multipleValues:s,nearestValue:o,current:l}}if(/^elevation$/i.test(t)){return{name:\"elevation\",units:n,extent:I(r),unitSymbol:i,default:I(a),multipleValues:s,nearestValue:o}}return{name:t,units:n,extent:L(r),unitSymbol:i,default:L(a),multipleValues:s,nearestValue:o}})),l}function b(e){return e.nodeType===Node.ELEMENT_NODE}function y(e){return void 0!==e.min&&void 0!==e.max}function A(e){return\"elevation\"===e.name}function E(e){return\"time\"!==e.name&&\"elevation\"!==e.name}function S(e){return\"time\"===e.name}function I(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?parseFloat(t[2]):void 0}})).filter((e=>e)):n.map((e=>parseFloat(e)))}function L(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&\"0\"!==t[2]?t[2]:void 0}})).filter((e=>e)):n}function F(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?M(t[2]):void 0}})).filter((e=>e)):n.map((e=>new Date(e)))}function M(e){const t=e.match(/(?:p(\\d+y|\\d+(?:.|,)\\d+y)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+d|\\d+(?:.|,)\\d+d)?)?(?:t(\\d+h|\\d+(?:.|,)\\d+h)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+s|\\d+(?:.|,)\\d+s)?)?/i);if(!t)return null;return{years:O(t[1]),months:O(t[2]),days:O(t[3]),hours:O(t[4]),minutes:O(t[5]),seconds:O(t[6])}}function O(e){if(!e)return 0;const t=e.match(/(?:\\d+(?:.|,)\\d+|\\d+)/);if(!t)return 0;const n=t[0].replace(\",\",\".\");return Number(n)}function w(e){return e.toISOString().replace(/\\.[0-9]{3}/,\"\")}export{o as coordsReversed,M as fromISODuration,l as getPopupLayers,y as isDimensionInterval,A as isElevationDimension,E as isGenericDimension,S as isTimeDimension,s as parseCapabilities,w as toISOString};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import r from\"../../core/Accessor.js\";import a from\"../../core/Handles.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{coordsReversed as i}from\"./wmsUtils.js\";const o={visible:\"visibleSublayers\"},n=[102100,3857,102113,900913],p=[3395,54004];let c=class extends r{constructor(){super(...arguments),this._layerHandles=new a,this.extent=null,this._scale=null,this.view=null}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this._layerHandles&&(this._layerHandles.removeAll(),this._layerHandles=null),e&&(this._layerHandles||(this._layerHandles=new a),this._layerHandles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(o[e.propertyName])))])))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get scale(){return null!=this._scale?this._scale:this.view&&this.view.scale||0}set scale(e){this.view||(this._scale=e,this.notifyChange(\"scale\"))}get version(){return(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:s}=this,{sublayers:t}=e,r=[],a=e=>{const{minScale:t,maxScale:l,sublayers:i,visible:o}=e;o&&(0===s||(0===t||s<=t)&&(0===l||s>=l))&&(i?i.forEach(a):r.unshift(e))};return null==t||t.forEach(a),r}get wkid(){const{extent:e,layer:s}=this,t=s.spatialReferences;let r=e.spatialReference&&e.spatialReference.wkid;t&&-1===t.indexOf(r)&&e.spatialReference.latestWkid&&(r=e.spatialReference.latestWkid);const a=n.some((e=>e===r));if(!t)return r;if(a){const e=[];t.forEach((s=>{n.indexOf(s)>-1&&e.push(s)})),e.length||t.forEach((s=>{p.indexOf(s)>-1&&e.push(s)})),r=e.length>0?e[0]:n[0]}return r}toJSON(){const{extent:e,layer:s,layers:t}=this,{imageFormat:r,imageTransparency:a,spatialReferences:l,version:o}=s;let{wkid:n}=this;l&&-1===l.indexOf(n)&&e.spatialReference.latestWkid&&(n=e.spatialReference.latestWkid);const{xmin:p,ymin:c,xmax:y,ymax:u}=e,m={bbox:\"1.3.0\"===s.version&&i(n)?`${c},${p},${u},${y}`:`${p},${c},${y},${u}`,format:r,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:a,version:o};return isNaN(n)||(\"1.3.0\"===o?m.crs=\"EPSG:\"+n:m.srs=\"EPSG:\"+n),{...m,layers:t}}};e([s()],c.prototype,\"extent\",void 0),e([s()],c.prototype,\"layer\",null),e([s({readOnly:!0,dependsOn:[\"visibleSublayers\"]})],c.prototype,\"layers\",null),e([s({type:Number,dependsOn:[\"view.scale\"]})],c.prototype,\"scale\",null),e([s(l)],c.prototype,\"timeExtent\",void 0),e([s({type:Number,dependsOn:[\"layers\",\"layer.imageTransparency\",\"timeExtent\"],readOnly:!0})],c.prototype,\"version\",null),e([s()],c.prototype,\"view\",void 0),e([s({readOnly:!0,dependsOn:[\"layer.sublayers\",\"scale\"]})],c.prototype,\"visibleSublayers\",null),e([s({dependsOn:[],autoTracked:!1})],c.prototype,\"wkid\",null),c=e([t(\"esri.layers.support.ExportWMSImageParameters\")],c);var y=c;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(t,n,o){const{resolution:r,size:s}=o;return t[0]=r*(Math.round(n[0]/r)+s[0]%2*.5),t[1]=r*(Math.round(n[1]/r)+s[1]%2*.5),t}function o(n,o){const r=o.rotation*t;const s=Math.abs(Math.cos(r)),u=Math.abs(Math.sin(r)),[a,c]=o.size;return n[0]=Math.round(c*u+a*s),n[1]=Math.round(c*s+a*u),n}function r(t,n,o,r){const[s,u]=n,[a,c]=r,h=.5*o;return t[0]=s-h*a,t[1]=u-h*c,t[2]=s+h*a,t[3]=u+h*c,t}function s(t,n){const[o,r,s,u]=t,[a,c,h,i]=n;return!(o>h||s<a||r>i||u<c)}export{s as bboxIntersects,r as getBBox,o as getOuterSize,n as snapToPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{debounce as i,resolve as r,all as s}from\"../../../../core/promiseUtils.js\";import a from\"../../../../core/Accessor.js\";import{getInfo as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import n from\"../../../../geometry/Extent.js\";import{create as m}from\"../../../../geometry/support/aaBoundingRect.js\";import l from\"../../../../layers/support/TileInfo.js\";import h from\"../../tiling/TileKey.js\";import c from\"../../tiling/TileInfoView.js\";import{getOuterSize as d,getBBox as u}from\"../../viewStateUtils.js\";import{Bitmap as g}from\"../../engine/Bitmap.js\";const f=m(),x=[0,0],y=new h(0,0,0,0),j=2048,v=2048,_=!1,S=!1,R=!1;let M=class extends a{constructor(t){super(t),this._imagePromise=null,this.hidpi=R,this.imageMaxWidth=j,this.imageMaxHeight=v,this.imageRotationSupported=_,this.imageNormalizationSupported=S,this.update=i((async(t,e)=>{const o=t.state,i=p(o.spatialReference),r=this.hidpi?t.pixelRatio:1;if(!t.stationary||this.destroyed)return;this.imageRotationSupported?(x[0]=o.size[0],x[1]=o.size[1]):d(x,o);const s=Math.floor(x[0]*r)>this.imageMaxWidth||Math.floor(x[1]*r)>this.imageMaxHeight,a=i&&(o.extent.xmin<i.valid[0]||o.extent.xmax>i.valid[1]),n=!this.imageNormalizationSupported&&a,m=!s&&!n,l=this.imageRotationSupported?o.rotation:0;if(m)this._imagePromise=this._singleExport(o,x,l,r,e);else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);n&&(t=Math.min(o.worldScreenWidth,t)),this._imagePromise=this._tiledExport(o,t,l,r,e)}return this._imagePromise.then((async t=>{this._imagePromise=null,await Promise.all(t.map((t=>(this.container.addChild(t),t.fadeIn()))));for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{this.container.removeChild(e)}))})).catch((t=>{throw this._imagePromise=null,t}))}),5e3)}destroy(){}get updating(){return null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e)?console.error(\"ExportStrategy.updateExports doesn't support promise yet\"):(e.invalidateTexture(),e.requestRender())}}_export(t,e,o,i,s,a){return r().then((()=>this.fetchSource(t,Math.floor(e*s),Math.floor(o*s),{rotation:i,pixelRatio:s,signal:a}))).then((o=>{const r=new g(o);return r.x=t.xmin,r.y=t.ymax,r.resolution=t.width/e,r.rotation=i,r.pixelRatio=s,r}))}_singleExport(t,e,o,i,r){u(f,t.center,t.resolution,e);const s=new n(f[0],f[1],f[2],f[3],t.spatialReference);return this._export(s,e[0],e[1],o,i,r).then((t=>[t]))}_tiledExport(t,e,o,i,r){const a=l.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),p=new c(a),m=p.getTileCoverage(t);if(!m)return null;const h=[];return m.forEach(((s,a,m,l)=>{y.set(s,a,m,l),p.getTileBounds(f,y);const c=new n(f[0],f[1],f[2],f[3],t.spatialReference);h.push(this._export(c,e,e,o,i,r))})),s(h)}};t([e()],M.prototype,\"_imagePromise\",void 0),t([e()],M.prototype,\"container\",void 0),t([e()],M.prototype,\"fetchSource\",void 0),t([e()],M.prototype,\"hidpi\",void 0),t([e()],M.prototype,\"imageMaxWidth\",void 0),t([e()],M.prototype,\"imageMaxHeight\",void 0),t([e()],M.prototype,\"imageRotationSupported\",void 0),t([e()],M.prototype,\"imageNormalizationSupported\",void 0),t([e()],M.prototype,\"requestUpdate\",void 0),t([e({dependsOn:[\"_imagePromise\"]})],M.prototype,\"updating\",null),M=t([o(\"esri.views.2d.layers.support.ExportStrategy\")],M);var w=M;export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{i as t,a as e,r as i,j as s,m as r}from\"../../../chunks/mat3.js\";import{c as h}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import\"../../../chunks/builtins.js\";import o from\"../../webgl/Texture.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";function d(t,e,i){const s={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(s.width=e,s.height=i),new o(t,s)}class c extends u{constructor(t=null,e=!0){super(),this.requestRenderOnSourceChangedEnabled=e,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:h()},this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(h){const o=t(this.transforms.dvs),[u,a]=h.toScreenNoRotation([0,0],this.x,this.y),d=this.resolution/this.pixelRatio/h.resolution,c=d*this.width,l=d*this.height,x=Math.PI*this.rotation/180;e(o,o,n(u,a)),e(o,o,n(c/2,l/2)),i(o,o,-x),e(o,o,n(-c/2,-l/2)),s(o,o,n(c,l)),r(this.transforms.dvs,h.displayViewMat3,o)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind({context:t},e){this._texture&&t.bindTexture(this._texture,e)}updateTexture({context:t}){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=d(t,this.sourceWidth,this.sourceHeight):this._texture=d(t));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(t){return t&&\"render\"in t}(i))if(i instanceof a){const t=i.getRenderedRasterPixels();this._texture.setData(t.renderedRasterPixels)}else this._texture.setData(function(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}(i));else(function(t){return t&&!(\"render\"in t)})(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{c as Bitmap};\n"],"sourceRoot":""}