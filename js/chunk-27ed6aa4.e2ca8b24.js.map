{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/tasks/support/GPMessage.js","webpack:///./node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","webpack:///./node_modules/@arcgis/core/tasks/ServiceAreaTask.js","webpack:///./node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","webpack:///./node_modules/@arcgis/core/core/queryUtils.js","webpack:///./node_modules/@arcgis/core/tasks/support/NAMessage.js"],"names":["p","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","r","super","this","description","type","String","json","write","prototype","read","a","u","features","map","o","t","fromJSON","spatialReference","s","geometry","d","e","f","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","g","n","accumulateAttributes","name","attributeParameterValues","defaultBreaks","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","travelMode","url","l","_collectGeometries","then","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","forEach","get","query","parsedUrl","toQueryParams","requestOptions","path","data","length","m","_serviceDescriptionPromise","_fetchServiceDescription","supportedTravelModes","id","itemId","currentVersion","async","defaultTravelMode","error","substring","indexOf","owningSystemUrl","test","c","serviceName","results","paramName","value","attributes","JSON","parse","TravelMode","z","console","log","_options","toJSON","Object","keys","Array","isArray","join","stringify","0","1","2","3","50","100","101","200"],"mappings":"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","file":"js/chunk-27ed6aa4.e2ca8b24.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import o from\"../request.js\";import{normalizeCentralMeridian as i}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as p}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as l}from\"./mixins/NAServiceDescription.js\";import c from\"./support/ServiceAreaSolveResult.js\";const n=p({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});let u=class extends(l(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],p={},l={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",p),i(a).then((e=>{for(const r in p){const s=p[r];t.push(r),l[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(l,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(l,t);for(const r in l)l[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:\"json\",...n.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),o(`${this.parsedUrl.path}/solveServiceArea`,i)})).then((e=>c.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],u.prototype,\"url\",void 0),u=e([t(\"esri.tasks.ServiceAreaTask\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n"],"sourceRoot":""}