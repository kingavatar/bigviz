{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/tasks/support/GPMessage.js","webpack:///./node_modules/@arcgis/core/layers/support/MapImage.js","webpack:///./node_modules/@arcgis/core/tasks/support/DataFile.js","webpack:///./node_modules/@arcgis/core/tasks/support/JobInfo.js","webpack:///./node_modules/@arcgis/core/tasks/support/LinearUnit.js","webpack:///./node_modules/@arcgis/core/tasks/support/ParameterValue.js","webpack:///./node_modules/@arcgis/core/tasks/support/RasterData.js","webpack:///./node_modules/@arcgis/core/tasks/Geoprocessor.js","webpack:///./node_modules/@arcgis/core/tasks/support/fileFormat.js","webpack:///./node_modules/@arcgis/core/tasks/support/layoutTemplate.js","webpack:///./node_modules/@arcgis/core/tasks/support/printTaskUtils.js","webpack:///./node_modules/@arcgis/core/tasks/support/PrintTemplate.js","webpack:///./node_modules/@arcgis/core/tasks/PrintTask.js"],"names":["p","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","i","r","super","this","description","type","String","json","write","prototype","read","a","arguments","extent","height","href","opacity","rotation","scale","visible","width","itemId","url","source","target","esriJobCancelled","esriJobCancelling","esriJobDeleted","esriJobDeleting","esriJobTimedOut","esriJobExecuting","esriJobFailed","esriJobNew","esriJobSubmitted","esriJobSucceeded","esriJobWaiting","o","jobId","jobStatus","messages","esriMeters","esriFeet","esriKilometers","esriMiles","esriNauticalMiles","esriYards","ignoreUnknown","distance","units","GPBoolean","GPDataFile","GPDate","GPDouble","GPFeatureRecordSetLayer","GPField","GPLinearUnit","GPLong","GPRasterData","GPRasterDataLayer","GPRecordSet","GPString","e","dataType","value","format","_timers","Map","outSpatialReference","processExtent","processSpatialReference","returnFeatureCollection","returnM","returnZ","forEach","clearInterval","t","path","parsedUrl","s","requestOptions","query","f","_clearTimer","then","fromJSON","data","_constructRequest","results","map","_decode","u","n","c","outSR","returnType","_gpEncode","m","toJSON","indexOf","substring","default","interval","signal","statusCallback","l","setInterval","has","_getJobStatus","set","get","delete","_collectGeometries","h","d","slice","wkid","b","j","S","context","processSR","v","G","features","length","push","geometry","Date","mapImage","Array","isArray","JSON","stringify","item","getTime","_encode","nonNullable","P","PDF","PNG32","PNG8","JPG","GIF","EPS","SVG","SVGZ","bind","MAP_ONLY","graphic","renderer","symbol","y","visualVariables","getVisualVariablesForType","g","style","shape","size","outline","color","Math","round","angle","layerDefinition","name","geometryType","drawingInfo","featureSet","canvas","getImageData","x","allLayerViews","items","filter","suspended","parent","includes","isVisibleAtScale","declaredClass","w","V","T","k","D","L","I","getLogger","replacement","version","attributionVisible","exportOptions","dpi","forceFeatureAttributes","label","layout","layoutOptions","outScale","scalePreserved","showLabels","dependsOn","q","Feet","Kilometers","Meters","Miles","B","K","esriExecutionTypeSynchronous","esriExecutionTypeAsynchronous","Q","returnGeometry","H","contentType","endsWith","X","_ssExtent","_legendLayers","_legendLayerNameMap","_gpServerUrl","_cimVersion","_is11xService","_gpMetadata","updateDelay","executionType","lastIndexOf","cimVersion","_getGpPrintParams","mode","_geoprocessor","getResultData","submitJob","waitForJobCompletion","execute","layerView","printTemplate","view","layer","loaded","_createBingMapsLayerJSON","_createCSVLayerJSON","_createFeatureLayerJSON","_createGeoJSONLayer","_createGraphicsLayerJSON","_createImageryLayerJSON","_createKMLLayerJSON","_createMapImageLayerJSON","_createMapNotesLayerJSON","_createOpenStreetMapLayerJSON","_createStreamLayerJSON","_createTileLayerJSON","_createVectorTileLayerJSON","_createWebTileLayerJSON","_createWMSLayerJSON","_createWMTSLayerJSON","_createScreenshotJSON","id","title","minScale","maxScale","graphics","_createFeatureCollectionJSON","culture","key","_getGraphics","origin","popupInfo","layerType","labelsVisible","labelingInfo","fields","collectRequiredFields","Set","from","getItemAt","hasOwnProperty","popupTemplate","z","valueExpression","hasVisualVariables","getSymbolAsync","_convertSvgToPictureMarkerSymbolJson","text","attributes","fromExtent","every","_convertSvgRenderer","featureCollection","layers","featureReduction","parseFloat","field","getField","_setURLandToken","maxSize","minSize","bandIds","compressionQuality","interpolation","mosaicRule","definitionExpression","exportImageServiceParameters","renderingRule","combineRendererWithRenderingRule","allVisibleMapImages","substr","imageData","allVisiblePoints","allVisiblePolylines","allVisiblePolygons","subLayerIds","sublayers","toExportImageJSON","unshift","visibleLayers","graphicsViews","ignoreBackground","clone","area","toMap","ymin","xmax","_normalize","takeScreenshot","dataUrl","customParameters","serviceUrl","styleUrl","findCredential","token","additionalTokens","urlTemplate","replace","credits","copyright","subDomains","customLayerParameters","transparentBackground","imageTransparency","activeLayer","imageFormat","styleId","tileMatrixSet","tileMatrixSetId","_canvas","document","createElement","getContext","Path2D","closePath","fillStyle","fill","clearRect","max","translate","lineWidth","lineJoin","strokeStyle","stroke","ceil","putImageData","responseType","drawImage","toDataURL","xoffset","yoffset","defaultSymbol","queryFeatures","spatialReference","operationalLayers","_createOperationalLayers","isWrappable","mapOptions","showAttribution","background","template","toLowerCase","outputSize","scalebarUnit","titleText","authorText","copyrightText","customTextElements","scaleBarOptions","metricUnit","metricLabel","nonMetricUnit","nonMetricLabel","legendLayers","layerId","_getPrintDefinition","RegExp","font","family","test","legendOptions","Web_Map_as_JSON","Format","Layout_Template","extraParameters","readOnly","Y"],"mappings":"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","file":"js/chunk-11efe40a.5f3ce9cd.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import s from\"../../geometry/Extent.js\";let p=class extends e{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};o([t({type:s})],p.prototype,\"extent\",void 0),o([t()],p.prototype,\"height\",void 0),o([t()],p.prototype,\"href\",void 0),o([t()],p.prototype,\"opacity\",void 0),o([t()],p.prototype,\"rotation\",void 0),o([t()],p.prototype,\"scale\",void 0),o([t()],p.prototype,\"visible\",void 0),o([t()],p.prototype,\"width\",void 0),p=o([r(\"esri.layer.support.MapImage\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";let e=class extends s{constructor(r){super(r),this.itemId=null,this.url=null}};r([o({type:String,json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),r([o({type:String,json:{write:!0}})],e.prototype,\"url\",void 0),e=r([t(\"esri.tasks.support.DataFile\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import i from\"./GPMessage.js\";const p=new s({esriJobCancelled:\"job-cancelled\",esriJobCancelling:\"job-cancelling\",esriJobDeleted:\"job-deleted\",esriJobDeleting:\"job-deleting\",esriJobTimedOut:\"job-timed-out\",esriJobExecuting:\"job-executing\",esriJobFailed:\"job-failed\",esriJobNew:\"job-new\",esriJobSubmitted:\"job-submitted\",esriJobSucceeded:\"job-succeeded\",esriJobWaiting:\"job-waiting\"});let c=class extends t{constructor(o){super(o),this.jobId=null,this.jobStatus=null,this.messages=null}};o([e()],c.prototype,\"jobId\",void 0),o([e({json:{read:p.read}})],c.prototype,\"jobStatus\",void 0),o([e({type:[i]})],c.prototype,\"messages\",void 0),c=o([r(\"esri.tasks.support.JobInfo\")],c);var b=c;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as e}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const i=new e({esriMeters:\"meters\",esriFeet:\"feet\",esriKilometers:\"kilometers\",esriMiles:\"miles\",esriNauticalMiles:\"nautical-miles\",esriYards:\"yards\"},{ignoreUnknown:!1});let p=class extends t{constructor(r){super(r),this.distance=0,this.units=null}};r([s({json:{write:!0}})],p.prototype,\"distance\",void 0),r([s({json:{read:i.read,write:i.write}})],p.prototype,\"units\",void 0),p=r([o(\"esri/tasks/support/LinearUnit\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";const u=new a({GPBoolean:\"boolean\",GPDataFile:\"data-file\",GPDate:\"date\",GPDouble:\"double\",GPFeatureRecordSetLayer:\"feature-record-set-layer\",GPField:\"field\",GPLinearUnit:\"linear-unit\",GPLong:\"long\",GPRasterData:\"raster-data\",GPRasterDataLayer:\"raster-data-layer\",GPRecordSet:\"record-set\",GPString:\"string\",\"GPMultiValue:GPBoolean\":\"multi-value\",\"GPMultiValue:GPDataFile\":\"multi-value\",\"GPMultiValue:GPDate\":\"multi-value\",\"GPMultiValue:GPDouble\":\"multi-value\",\"GPMultiValue:GPFeatureRecordSetLayer\":\"multi-value\",\"GPMultiValue:GPField\":\"multi-value\",\"GPMultiValue:GPLinearUnit\":\"multi-value\",\"GPMultiValue:GPLong\":\"multi-value\",\"GPMultiValue:GPRasterData\":\"multi-value\",\"GPMultiValue:GPRasterDataLayer\":\"multi-value\",\"GPMultiValue:GPRecordSet\":\"multi-value\",\"GPMultiValue:GPString\":\"multi-value\"});let o=class extends l{constructor(e){super(e),this.dataType=null,this.value=null}};e([t({json:{read:u.read,write:u.write}})],o.prototype,\"dataType\",void 0),e([t()],o.prototype,\"value\",void 0),o=e([r(\"esri.tasks.support.ParameterValue\")],o);var i=o;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";let e=class extends s{constructor(r){super(r),this.format=null,this.itemId=null,this.url=null}};r([o()],e.prototype,\"format\",void 0),r([o({json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),r([o()],e.prototype,\"url\",void 0),e=r([t(\"esri/tasks/support/RasterData\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{neverReached as t}from\"../core/compilerUtils.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{create as a,onAbort as o,createAbortError as i}from\"../core/promiseUtils.js\";import u from\"../geometry/SpatialReference.js\";import n from\"../geometry/Extent.js\";import l from\"../request.js\";import{normalizeCentralMeridian as c}from\"../geometry/support/normalizeUtils.js\";import p from\"../layers/support/Field.js\";import m from\"./support/FeatureSet.js\";import h from\"./Task.js\";import d from\"./support/GPMessage.js\";import f from\"../layers/support/MapImage.js\";import b from\"./support/DataFile.js\";import j from\"./support/JobInfo.js\";import S from\"./support/LinearUnit.js\";import v from\"./support/ParameterValue.js\";import G from\"./support/RasterData.js\";let g=class extends h{constructor(e){super(e),this._timers=new Map,this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}destroy(){this._timers.forEach((e=>{clearInterval(e)}))}cancelJob(e,t){const{path:r}=this.parsedUrl,s={...this.requestOptions,...t,query:{f:\"json\"}};this._clearTimer(e);return l(`${r}/jobs/${e}/cancel`,s).then((e=>j.fromJSON(e.data)))}checkJobStatus(e,t){const{path:r}=this.parsedUrl,s={...this.requestOptions,...t,query:{f:\"json\"}};return l(`${r}/jobs/${e}`,s).then((e=>j.fromJSON(e.data)))}execute(e,t){return this._constructRequest(\"execute\",e,t).then((e=>{const t=e.data.results||[],r=e.data.messages||[];return{results:t.map(this._decode),messages:r.map((e=>d.fromJSON(e)))}}))}getResultData(e,t,r){const{returnFeatureCollection:s,returnM:a,returnZ:o,outSpatialReference:i,parsedUrl:u}=this,{path:n}=u,c={returnFeatureCollection:s||void 0,returnM:a||void 0,returnZ:o||void 0,outSR:i,returnType:\"data\",f:\"json\"},p=this._gpEncode(c,null),m={...this.requestOptions,...r,query:p};return l(`${n}/jobs/${e}/results/${t}`,m).then((e=>this._decode(e.data)))}getResultImage(e,t,r,s){const{path:a}=this.parsedUrl,o={...r.toJSON(),f:\"json\"},i=this._gpEncode(o),u={...this.requestOptions,...s,query:i};return l(`${a}/jobs/${e}/results/${t}`,u).then((e=>this._decode(e.data)))}async getResultMapImageLayer(e){const{path:t}=this.parsedUrl,r=t.indexOf(\"/GPServer/\"),s=`${t.substring(0,r)}/MapServer/jobs/${e}`;return new(0,(await import(\"../layers/MapImageLayer.js\")).default)({url:s})}submitJob(e,t){return this._constructRequest(\"submitJob\",e,t).then((e=>j.fromJSON(e.data)))}waitForJobCompletion(e,r={}){const{interval:s=1e3,signal:u,statusCallback:n}=r;return a(((r,a)=>{o(u,(()=>{this._clearTimer(e),a(i())})),this._clearTimer(e);const l=setInterval((()=>{this._timers.has(e)||a(i()),this._getJobStatus(e,this.requestOptions).then((s=>{const{jobStatus:o}=s;switch(o){case\"job-succeeded\":this._clearTimer(e),r(s);break;case\"job-submitted\":case\"job-executing\":case\"job-waiting\":case\"job-new\":n&&n(s);break;case\"job-cancelled\":case\"job-cancelling\":case\"job-deleted\":case\"job-deleting\":case\"job-timed-out\":case\"job-failed\":this._clearTimer(e),a(s);break;default:t(o)}}))}),s);this._timers.set(e,l)}))}_clearTimer(e){this._timers.has(e)&&(clearInterval(this._timers.get(e)),this._timers.delete(e))}_constructRequest(e,t,r){const s={},a={},o=[];return this._collectGeometries(t,o,s),c(o).then((o=>{const{outSpatialReference:i,parsedUrl:u,processExtent:n,processSpatialReference:c,returnFeatureCollection:p,returnM:m,returnZ:h}=this,{path:d}=u;for(const e in s){const t=s[e];a[e]=o.slice(t[0],t[1])}const f=i?i.wkid||i:null,b=c?c.wkid||c:null,j=\"execute\"===e?{returnFeatureCollection:p||void 0,returnM:m||void 0,returnZ:h||void 0}:null,S={...n?{context:{extent:n,outSR:f,processSR:b}}:{\"env:outSR\":f,\"env:processSR\":b},...t,...j,f:\"json\"},v=this._gpEncode(S,null,a),G={...this.requestOptions,...r,query:v};return l(`${d}/${e}`,G)}))}_collectGeometries(e,t,r){for(const s in e){const a=e[s];if(a&&\"object\"==typeof a&&a instanceof m){const{features:e}=a;r[s]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}}}_decode(e){const t=e.dataType,r=v.fromJSON(e);switch(t){case\"GPBoolean\":case\"GPDouble\":case\"GPLong\":case\"GPString\":return r;case\"GPDate\":r.value=new Date(r.value);break;case\"GPDataFile\":r.value=b.fromJSON(r.value);break;case\"GPLinearUnit\":r.value=S.fromJSON(r.value);break;case\"GPFeatureRecordSetLayer\":case\"GPRecordSet\":{const t=e.value.url;r.value=t?b.fromJSON(r.value):m.fromJSON(r.value);break}case\"GPRasterData\":case\"GPRasterDataLayer\":{const t=e.value.mapImage;r.value=t?f.fromJSON(t):G.fromJSON(r.value);break}case\"GPField\":r.value=p.fromJSON(r.value);break;case\"GPMultiValue:GPBoolean\":case\"GPMultiValue:GPDouble\":case\"GPMultiValue:GPLong\":case\"GPMultiValue:GPString\":return r;case\"GPMultiValue:GPDate\":{const e=r.value;r.value=e.map((e=>new Date(e)));break}case\"GPMultiValue:GPDataFile\":r.value=r.value.map((e=>b.fromJSON(e)));break;case\"GPMultiValue:GPLinearUnit\":r.value=r.value.map((e=>S.fromJSON(e)));break;case\"GPMultiValue:GPFeatureRecordSetLayer\":case\"GPMultiValue:GPRecordSet\":r.value=r.value.map((e=>m.fromJSON(e)));break;case\"GPMultiValue:GPRasterData\":case\"GPMultiValue:GPRasterDataLayer\":r.value=r.value.map((e=>e?f.fromJSON(e):G.fromJSON(r.value)));break;case\"GPMultiValue:GPField\":r.value=r.value.map((e=>p.fromJSON(e)))}return r}_gpEncode(e,t,r){for(const t in e){const r=e[t];Array.isArray(r)?e[t]=JSON.stringify(r.map((e=>this._gpEncode({item:e},!0).item),this)):r instanceof Date&&(e[t]=r.getTime())}return this._encode(e,t,r)}_getJobStatus(e,t){const{path:r}=this.parsedUrl,s=`${r}/jobs/${e}`,a={...this.requestOptions,...t,query:{f:\"json\"}};return l(s,a).then((e=>j.fromJSON(e.data)))}};e([r({type:u})],g.prototype,\"outSpatialReference\",void 0),e([r({type:n})],g.prototype,\"processExtent\",void 0),e([r({type:u})],g.prototype,\"processSpatialReference\",void 0),e([r({nonNullable:!0})],g.prototype,\"returnFeatureCollection\",void 0),e([r({nonNullable:!0})],g.prototype,\"returnM\",void 0),e([r({nonNullable:!0})],g.prototype,\"returnZ\",void 0),g=e([s(\"esri/tasks/Geoprocessor\")],g);var P=g;export default P;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{JSONMap as o}from\"../../core/jsonMap.js\";const p=new o({PDF:\"pdf\",PNG32:\"png32\",PNG8:\"png8\",JPG:\"jpg\",GIF:\"gif\",EPS:\"eps\",SVG:\"svg\",SVGZ:\"svgz\"}),n=p.fromJSON.bind(p),g=p.toJSON.bind(p);export{n as fromJSON,g as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{JSONMap as a}from\"../../core/jsonMap.js\";const t=new a({MAP_ONLY:\"map-only\",\"A3 Landscape\":\"a3-landscape\",\"A3 Portrait\":\"a3-portrait\",\"A4 Landscape\":\"a4-landscape\",\"A4 Portrait\":\"a4-portrait\",\"Letter ANSI A Landscape\":\"letter-ansi-a-landscape\",\"Letter ANSI A Portrait\":\"letter-ansi-a-portrait\",\"Tabloid ANSI B Landscape\":\"tabloid-ansi-b-landscape\",\"Tabloid ANSI B Portrait\":\"tabloid-ansi-b-portrait\"}),r=t.fromJSON.bind(t),o=t.toJSON.bind(t);export{r as fromJSON,o as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{px2pt as e}from\"../../core/screenUtils.js\";import{getSize as r,getColor as t,getOpacity as n,getRotationAngle as i}from\"../../renderers/visualVariables/support/visualVariableUtils.js\";function o(o,a){const{graphic:l,renderer:u,symbol:s}=a,y=s.type;if(\"text\"===y||\"shield-label-symbol\"===y||!(\"visualVariables\"in u)||!u.visualVariables)return;const f=u.getVisualVariablesForType(\"size\"),p=u.getVisualVariablesForType(\"color\"),c=u.getVisualVariablesForType(\"opacity\"),m=u.getVisualVariablesForType(\"rotation\"),g=f&&f[0],d=p&&p[0],b=c&&c[0],h=m&&m[0];if(g){const t=\"simple-marker\"===y?s.style:null,n=r(g,l,{shape:t});null!=n&&(\"simple-marker\"===y?o.size=e(n):\"picture-marker\"===y?(o.width=e(n),o.height=e(n)):\"simple-line\"===y?o.width=e(n):o.outline&&(o.outline.width=e(n)))}if(d){const e=t(d,l);(e&&\"simple-marker\"===y||\"simple-line\"===y||\"simple-fill\"===y)&&(o.color=e?e.toJSON():void 0)}if(b){const e=n(b,l);null!=e&&o.color&&(o.color[3]=Math.round(255*e))}h&&(o.angle=-i(u,l))}function a(){return{layerDefinition:{name:\"multipointLayer\",geometryType:\"esriGeometryMultipoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryMultipoint\",features:[]}}}function l(){return{layerDefinition:{name:\"polygonLayer\",geometryType:\"esriGeometryPolygon\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolygon\",features:[]}}}function u(){return{layerDefinition:{name:\"pointLayer\",geometryType:\"esriGeometryPoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPoint\",features:[]}}}function s(){return{layerDefinition:{name:\"polylineLayer\",geometryType:\"esriGeometryPolyline\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolyline\",features:[]}}}function y(e,r=15){const t=e.canvas.width,n=e.canvas.height,i=e.getImageData(0,0,t,n).data;let o,a,l,u,s,y;e:for(a=n;a--;)for(o=t;o--;)if(i[4*(t*a+o)+3]>r){y=a;break e}if(!y)return null;e:for(o=t;o--;)for(a=y+1;a--;)if(i[4*(t*a+o)+3]>r){s=o;break e}e:for(o=0;o<=s;++o)for(a=y+1;a--;)if(i[4*(t*a+o)+3]>r){l=o;break e}e:for(a=0;a<=y;++a)for(o=l;o<=s;++o)if(i[4*(t*a+o)+3]>r){u=a;break e}return{x:l,y:u,width:s-l,height:y-u}}function f(e,r){const t=e.allLayerViews.items;if(r===e.scale)return t.filter((e=>!e.suspended));const n=new Array;for(const e of t)h(e.parent)&&!n.includes(e.parent)||!e.visible||r&&\"isVisibleAtScale\"in e&&!e.isVisibleAtScale(r)||n.push(e);return n}function p(e){return e&&\"bing-maps\"===e.type}function c(e){return e&&\"csv\"===e.type}function m(e){return e&&\"feature\"===e.type}function g(e){return e&&\"geojson\"===e.type}function d(e){return e&&\"graphics\"===e.type}function b(e){return e&&\"group\"===e.type}function h(e){return e&&\"esri.views.2d.layers.GroupLayerView2D\"===e.declaredClass}function w(e){return e&&\"imagery\"===e.type}function V(e){return e&&\"kml\"===e.type}function T(e){return e&&\"map-image\"===e.type}function v(e){return e&&\"map-notes\"===e.type}function k(e){return e&&\"open-street-map\"===e.type}function G(e){return e&&\"stream\"===e.type}function S(e){return e&&\"tile\"===e.type}function D(e){return e&&\"vector-tile\"===e.type}function L(e){return e&&\"web-tile\"===e.type}function P(e){return e&&\"wms\"===e.type}function I(e){return e&&\"wmts\"===e.type}export{o as applyVisualVariables,a as createMultipointLayer,u as createPointLayer,l as createPolygonLayer,s as createPolylineLayer,y as getContextBoundingBox,f as getVisibleLayerViews,p as isBingMapsLayer,c as isCSVLayer,m as isFeatureLayer,g as isGeoJSONLayer,d as isGraphicsLayer,b as isGroupLayer,w as isImageryLayer,V as isKMLLayer,T as isMapImageLayer,v as isMapNotesLayer,k as isOpenStreetMapLayer,G as isStreamLayer,S as isTileLayer,D as isVectorTileLayer,P as isWMSLayer,I as isWMTSLayer,L as isWebTileLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{deprecatedProperty as o}from\"../../core/deprecate.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import p from\"../../core/Accessor.js\";const i=t.getLogger(\"esri.tasks.support.PrintTemplate\");function a(){o(i,\"preserveScale\",{replacement:\"scalePreserved\",version:\"4.16\"})}let c=class extends p{constructor(e){super(e),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format=\"png32\",this.label=null,this.layout=\"map-only\",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}get preserveScale(){return a(),this.scalePreserved}set preserveScale(e){a(),this.scalePreserved=e}};e([r()],c.prototype,\"attributionVisible\",void 0),e([r()],c.prototype,\"exportOptions\",void 0),e([r()],c.prototype,\"forceFeatureAttributes\",void 0),e([r()],c.prototype,\"format\",void 0),e([r()],c.prototype,\"label\",void 0),e([r()],c.prototype,\"layout\",void 0),e([r()],c.prototype,\"layoutOptions\",void 0),e([r()],c.prototype,\"outScale\",void 0),e([r({dependsOn:[\"scalePreserved\"]})],c.prototype,\"preserveScale\",null),e([r()],c.prototype,\"scalePreserved\",void 0),e([r()],c.prototype,\"showLabels\",void 0),c=e([s(\"esri.tasks.support.PrintTemplate\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{mixin as t}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{JSONMap as i}from\"../core/jsonMap.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"../core/Error.js\";import{normalize as n,dataComponents as o}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as l}from\"../core/promiseUtils.js\";import c from\"../geometry/Polygon.js\";import{createScreenPoint as u,pt2px as y,px2pt as p}from\"../core/screenUtils.js\";import{id as m}from\"../kernel.js\";import d from\"../request.js\";import{getSizeRangeAtScale as h}from\"../renderers/visualVariables/support/visualVariableUtils.js\";import f from\"./support/Query.js\";import g from\"./Task.js\";import S from\"./Geoprocessor.js\";import{toJSON as b}from\"./support/fileFormat.js\";import{toJSON as _}from\"./support/layoutTemplate.js\";import{getVisibleLayerViews as w,isGroupLayer as v,isBingMapsLayer as L,isCSVLayer as x,isFeatureLayer as O,isGeoJSONLayer as J,isGraphicsLayer as N,isImageryLayer as I,isKMLLayer as D,isMapImageLayer as M,isMapNotesLayer as T,isOpenStreetMapLayer as V,isStreamLayer as F,isTileLayer as P,isVectorTileLayer as k,isWebTileLayer as E,isWMSLayer as R,isWMTSLayer as C,applyVisualVariables as U,getContextBoundingBox as j,createPolygonLayer as A,createPolylineLayer as z,createPointLayer as G,createMultipointLayer as W}from\"./support/printTaskUtils.js\";import $ from\"./support/PrintTemplate.js\";const q={Feet:\"ft\",Kilometers:\"km\",Meters:\"m\",Miles:\"mi\"},B=new i({esriFeet:\"Feet\",esriKilometers:\"Kilometers\",esriMeters:\"Meters\",esriMiles:\"Miles\"}),K=new i({esriExecutionTypeSynchronous:\"sync\",esriExecutionTypeAsynchronous:\"async\"}),Q=new f({returnGeometry:!0});function H(e){return e&&(e.path||\"image/svg+xml\"===e.contentType||e.url&&e.url.endsWith(\".svg\"))}let X=class extends g{constructor(...e){super(...e),this._ssExtent=null,this._legendLayers=[],this._legendLayerNameMap={},this._gpServerUrl=null,this._cimVersion=null,this._is11xService=!1,this._gpMetadata=null,this.updateDelay=1e3}get _geoprocessor(){return new S({url:this.url})}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?K.fromJSON(this._gpMetadata.executionType):\"sync\"}execute(e,t){let r=this.url;const i=r.lastIndexOf(\"/GPServer/\");return i>0&&(r=r.slice(0,i+9)),l().then((()=>this._gpServerUrl===r?{data:this._gpMetadata}:(this._gpServerUrl=r,d(r,{query:{f:\"json\"}})))).then((t=>(this._gpMetadata=t.data,this._cimVersion=this._gpMetadata.cimVersion,this._is11xService=!!this._cimVersion,this._getGpPrintParams(e)))).then((e=>{const r=e=>\"sync\"===this.mode?e.results&&e.results[0]&&e.results[0].value:this._geoprocessor.getResultData(e.jobId,\"Output_File\",t).then((e=>e.value));return\"async\"===this.mode?this._geoprocessor.submitJob(e,t).then((e=>this._geoprocessor.waitForJobCompletion(e.jobId,{interval:this.updateDelay}).then(r))):this._geoprocessor.execute(e,t).then(r)}))}async _createOperationalLayers(e,t){const r=[],i={layerView:null,printTemplate:t,view:e};let a=0;t.scalePreserved&&(a=t.outScale||e.scale);const s=w(e,a);for(const e of s){const t=e.layer;if(!t.loaded||v(t))continue;let a;i.layerView=e,a=L(t)?this._createBingMapsLayerJSON(t):x(t)?await this._createCSVLayerJSON(t,i):O(t)?await this._createFeatureLayerJSON(t,i):J(t)?await this._createGeoJSONLayer(t,i):N(t)?await this._createGraphicsLayerJSON(t,i):I(t)?this._createImageryLayerJSON(t):D(t)?await this._createKMLLayerJSON(t,i):M(t)?this._createMapImageLayerJSON(t,i):T(t)?await this._createMapNotesLayerJSON(i):V(t)?this._createOpenStreetMapLayerJSON():F(t)?await this._createStreamLayerJSON(t,i):P(t)?this._createTileLayerJSON(t):k(t)?await this._createVectorTileLayerJSON(t,i):E(t)?this._createWebTileLayerJSON(t):R(t)?this._createWMSLayerJSON(t):C(t)?this._createWMTSLayerJSON(t):await this._createScreenshotJSON(t,i),a&&(Array.isArray(a)?r.push(...a):(a.id=t.id,a.title=this._legendLayerNameMap[t.id]||t.title,a.opacity=t.opacity,a.minScale=t.minScale||0,a.maxScale=t.maxScale||0,r.push(a)))}if(a&&r.forEach((e=>{e.minScale=0,e.maxScale=0})),e.graphics&&e.graphics.length){const i=await this._createFeatureCollectionJSON(null,e.graphics,t);i&&r.push(i)}return r}_createBingMapsLayerJSON(e){return{culture:e.culture,key:e.key,type:\"BingMaps\"+(\"aerial\"===e.style?\"Aerial\":\"hybrid\"===e.style?\"Hybrid\":\"Road\")}}async _createCSVLayerJSON(e,{layerView:t,printTemplate:r}){let i;if(this._legendLayers&&this._legendLayers.push({id:e.id}),!this._is11xService){const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}return i={type:\"CSV\"},e.write(i,{origin:\"web-map\"}),delete i.popupInfo,delete i.layerType,i.showLabels=r.showLabels&&e.labelsVisible,i}async _createFeatureCollectionJSON(e,t,r){let i;const a=A(),s=z(),n=G(),o=W(),l=G();if(l.layerDefinition.name=\"textLayer\",delete l.layerDefinition.drawingInfo,e){if(\"esri.layers.FeatureLayer\"===e.declaredClass||\"esri.layers.StreamLayer\"===e.declaredClass?a.layerDefinition.name=s.layerDefinition.name=n.layerDefinition.name=o.layerDefinition.name=this._legendLayerNameMap[e.id]||e.get(\"arcgisProps.title\")||e.title:\"esri.layers.GraphicsLayer\"===e.declaredClass&&(t=e.graphics.items),e.renderer){const t=e.renderer.toJSON();a.layerDefinition.drawingInfo.renderer=t,s.layerDefinition.drawingInfo.renderer=t,n.layerDefinition.drawingInfo.renderer=t,o.layerDefinition.drawingInfo.renderer=t}if(r.showLabels&&e.labelsVisible&&\"function\"==typeof e.write){var u,y;const t=null==(u=e.write({},{origin:\"web-map\"}).layerDefinition)||null==(y=u.drawingInfo)?void 0:y.labelingInfo;t&&(i=!0,a.layerDefinition.drawingInfo.labelingInfo=t,s.layerDefinition.drawingInfo.labelingInfo=t,n.layerDefinition.drawingInfo.labelingInfo=t,o.layerDefinition.drawingInfo.labelingInfo=t)}}let p;null!=e&&e.renderer||i||(delete a.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo,delete n.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo);const m=e&&e.fields,d=e&&e.renderer;if(m&&d&&\"function\"==typeof d.collectRequiredFields){const e=new Set;await d.collectRequiredFields(e,m),p=Array.from(e)}if(m){const e=m.map((e=>e.toJSON()));a.layerDefinition.fields=e,s.layerDefinition.fields=e,n.layerDefinition.fields=e,o.layerDefinition.fields=e}const h=t&&t.length;let f;for(let i=0;i<h;i++){const u=t[i]||t.getItemAt(i);if(!1===u.visible||!u.geometry)continue;if(f=u.toJSON(),f.hasOwnProperty(\"popupTemplate\")&&delete f.popupTemplate,f.geometry&&f.geometry.z&&delete f.geometry.z,f.symbol&&f.symbol.outline&&\"esriCLS\"===f.symbol.outline.type&&!this._is11xService)continue;!this._is11xService&&f.symbol&&f.symbol.outline&&f.symbol.outline.color&&f.symbol.outline.color[3]&&(f.symbol.outline.color[3]=255);const y=e&&e.renderer&&(\"valueExpression\"in e.renderer&&e.renderer.valueExpression||\"hasVisualVariables\"in e.renderer&&e.renderer.hasVisualVariables());if(!f.symbol&&e&&e.renderer&&y&&!this._is11xService){const t=e.renderer,r=await t.getSymbolAsync(u);if(!r)continue;f.symbol=r.toJSON(),\"hasVisualVariables\"in t&&t.hasVisualVariables()&&U(f.symbol,{renderer:t,graphic:u,symbol:r})}if(f.symbol&&(f.symbol.angle||delete f.symbol.angle,H(f.symbol)?f.symbol=await this._convertSvgToPictureMarkerSymbolJson(f.symbol):f.symbol.text&&delete f.attributes),(!r||!r.forceFeatureAttributes)&&p&&p.length){const e={};p.forEach((t=>{f.attributes&&f.attributes.hasOwnProperty(t)&&(e[t]=f.attributes[t])})),f.attributes=e}\"polygon\"===u.geometry.type?a.featureSet.features.push(f):\"polyline\"===u.geometry.type?s.featureSet.features.push(f):\"point\"===u.geometry.type?f.symbol&&f.symbol.text?l.featureSet.features.push(f):n.featureSet.features.push(f):\"multipoint\"===u.geometry.type?o.featureSet.features.push(f):\"extent\"===u.geometry.type&&(f.geometry=c.fromExtent(u.geometry).toJSON(),a.featureSet.features.push(f))}const g=[a,s,o,n,l].filter((e=>e.featureSet.features.length>0));for(const e of g){const t=e.featureSet.features.every((e=>e.symbol));!t||r&&r.forceFeatureAttributes||e.featureSet.features.forEach((e=>{delete e.attributes})),t&&delete e.layerDefinition.drawingInfo,e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.renderer&&await this._convertSvgRenderer(e.layerDefinition.drawingInfo.renderer)}return g.length?{featureCollection:{layers:g},showLabels:i}:null}async _createFeatureLayerJSON(e,t){var r,i;let a;this._legendLayers&&this._legendLayers.push({id:e.id});const s=e.renderer;if(e.featureReduction||s&&\"dot-density\"===s.type&&(!this._is11xService||parseFloat(this._cimVersion)<2.6))return this._createScreenshotJSON(e,t);const{layerView:n,printTemplate:o,view:l}=t,c=s&&(\"valueExpression\"in s&&s.valueExpression||\"hasVisualVariables\"in s&&s.hasVisualVariables()),u=\"feature-layer\"!==(null==(r=e.source)?void 0:r.type)&&\"ogc-feature\"!==(null==(i=e.source)?void 0:i.type);if(!this._is11xService&&c||e.featureReduction||u||!s||\"field\"in s&&null!=s.field&&(\"string\"!=typeof s.field||!e.getField(s.field))){const t=await this._getGraphics(n);a=await this._createFeatureCollectionJSON(e,t,o)}else{var y,p;if(a={id:(m=e.write()).id,title:m.title,opacity:m.opacity,minScale:m.minScale,maxScale:m.maxScale,url:m.url,layerDefinition:m.layerDefinition},a.showLabels=o.showLabels&&e.labelsVisible,this._setURLandToken(a,e),null!=(y=a.layerDefinition)&&null!=(p=y.drawingInfo)&&p.renderer&&(delete a.layerDefinition.minScale,delete a.layerDefinition.maxScale,await this._convertSvgRenderer(a.layerDefinition.drawingInfo.renderer),\"visualVariables\"in s&&s.visualVariables&&s.visualVariables[0])){const e=s.visualVariables[0];if(\"size\"===e.type&&e.maxSize&&\"number\"!=typeof e.maxSize&&e.minSize&&\"number\"!=typeof e.minSize){const t=h(e,l.scale);a.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=t.minSize,a.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=t.maxSize}}}var m;return a}async _createGeoJSONLayer(e,{layerView:t,printTemplate:r}){this._legendLayers&&this._legendLayers.push({id:e.id});const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}async _createGraphicsLayerJSON(e,{printTemplate:t}){return this._createFeatureCollectionJSON(e,null,t)}_createImageryLayerJSON(e){this._legendLayers&&this._legendLayers.push({id:e.id});const t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const r=e.exportImageServiceParameters.combineRendererWithRenderingRule();r&&(t.renderingRule=r.toJSON())}return this._setURLandToken(t,e),t}async _createKMLLayerJSON(e,t){const r=t.printTemplate;if(this._is11xService){const t={type:\"kml\"};return e.write(t,{origin:\"web-map\"}),delete t.layerType,t.url=n(e.url),t}{const i=[],a=t.layerView;a.allVisibleMapImages.forEach(((t,r)=>{const a={id:`${e.id}_image${r}`,type:\"image\",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};\"data:image/png;base64,\"===t.href.substr(0,22)?a.imageData=t.href.substr(22):a.url=t.href,i.push(a)}));const s=[...a.allVisiblePoints.items,...a.allVisiblePolylines.items,...a.allVisiblePolygons.items],n={id:e.id,...await this._createFeatureCollectionJSON(null,s,r)};return i.push(n),i}}_createMapImageLayerJSON(e,{view:t}){let r;const i={id:e.id,subLayerIds:[]};let a=[];const s=t.scale,n=e=>{const t=0===s,r=0===e.minScale||s<=e.minScale,o=0===e.maxScale||s>=e.maxScale;if(e.visible&&(t||r&&o))if(e.sublayers)e.sublayers.forEach(n);else{const t=e.toExportImageJSON(),r={id:e.id,name:e.title,layerDefinition:{drawingInfo:t.drawingInfo,definitionExpression:t.definitionExpression,source:t.source}};a.unshift(r),i.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(n),a.length&&(a=a.map((({id:e,name:t,layerDefinition:r})=>({id:e,name:t,layerDefinition:r}))),r={layers:a,visibleLayers:i.subLayerIds},this._setURLandToken(r,e),this._legendLayers.push(i)),r}async _createMapNotesLayerJSON({layerView:e,printTemplate:t}){const r=[];for(const i of e.graphicsViews()){const e=await this._createFeatureCollectionJSON(i,i.graphics,t);e&&r.push(...e.featureCollection.layers)}return{featureCollection:{layers:r}}}_createOpenStreetMapLayerJSON(){return{type:\"OpenStreetMap\"}}async _createScreenshotJSON(e,{printTemplate:t,view:r}){const i={type:\"image\"},a={format:\"png\",ignoreBackground:!0,layers:[e],rotation:0},s=this._ssExtent||r.extent.clone();let n=96,l=!0,c=!0;if(t.exportOptions){const e=t.exportOptions;e.dpi>0&&(n=e.dpi),e.width>0&&(l=e.width%2==r.width%2),e.height>0&&(c=e.height%2==r.height%2)}if(\"map-only\"===t.layout&&t.scalePreserved&&(!t.outScale||t.outScale===r.scale)&&96===n&&(!l||!c)&&(a.area={x:0,y:0,width:r.width,height:r.height},l||(a.area.width-=1),c||(a.area.height-=1),!this._ssExtent)){const e=r.toMap(u(a.area.width,a.area.height));s.ymin=e.y,s.xmax=e.x,this._ssExtent=s}i.extent=s.clone()._normalize(!0).toJSON();const y=await r.takeScreenshot(a),p=o(y.dataUrl);return i.imageData=p.data,i}async _createStreamLayerJSON(e,{layerView:t,printTemplate:r}){this._legendLayers&&this._legendLayers.push({id:e.id});const i=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,i,r)}_createTileLayerJSON(e){const t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}async _createVectorTileLayerJSON(e,t){if(this._is11xService&&e.serviceUrl&&e.styleUrl){const t=m&&m.findCredential(e.styleUrl),r=m&&m.findCredential(e.serviceUrl);if(!t&&!r||\"2.1.0\"!==this._cimVersion){const i={type:\"VectorTileLayer\"};return i.styleUrl=n(e.styleUrl),t&&(i.token=t.token),r&&r.token!==i.token&&(i.additionalTokens=[{url:e.serviceUrl,token:r.token}]),i}}return this._createScreenshotJSON(e,t)}_createWebTileLayerJSON(e){const t={type:\"WebTiledLayer\",urlTemplate:e.urlTemplate.replace(/\\${/g,\"{\"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}_createWMSLayerJSON(e){let t;const r=[],i=e=>{e.visible&&(e.sublayers?e.sublayers.forEach(i):e.name&&r.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(i),r.length&&(t={type:\"wms\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:r,url:n(e.url),version:e.version}),t}_createWMTSLayerJSON(e){const t=e.activeLayer;return{type:\"wmts\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:n(e.url)}}_setURLandToken(e,t){var r;if(!t.url)return;e.url=n(e.url||t.url);const i=null==(r=m)?void 0:r.findCredential(t.url);i&&(e.token=i.token)}async _convertSvgToPictureMarkerSymbolJson(e){this._canvas||(this._canvas=document.createElement(\"canvas\"));const t=1024;this._canvas.width=t,this._canvas.height=t;const r=this._canvas.getContext(\"2d\");let i,a;if(e.path){var s;const n=new Path2D(e.path);n.closePath(),r.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:\"rgb(0,0,0)\",r.fill(n);const o=j(r);if(!o)return null;r.clearRect(0,0,t,t);const l=y(e.size)/Math.max(o.width,o.height);r.scale(l,l);const c=t/l,u=c/2-o.width/2-o.x,p=c/2-o.height/2-o.y;if(r.translate(u,p),Array.isArray(e.color)&&r.fill(n),null!=(s=e.outline)&&s.width&&Array.isArray(e.outline.color)){const t=e.outline;r.lineWidth=y(t.width)/l,r.lineJoin=\"round\",r.strokeStyle=`rgba(${t.color[0]},${t.color[1]},${t.color[2]},${t.color[3]/255})`,r.stroke(n),o.width+=r.lineWidth,o.height+=r.lineWidth}o.width*=l,o.height*=l;const m=r.getImageData(512-o.width/2,512-o.height/2,Math.ceil(o.width),Math.ceil(o.height));i=m.width,a=m.height,r.canvas.width=i,r.canvas.height=a,r.putImageData(m,0,0)}else{const t=\"image/svg+xml\"===e.contentType?\"data:image/svg+xml;base64,\"+e.imageData:e.url,s=(await d(t,{responseType:\"image\"})).data;i=y(e.width),a=y(e.height),r.canvas.width=i,r.canvas.height=a,r.drawImage(s,0,0,r.canvas.width,r.canvas.height)}return{type:\"esriPMS\",imageData:r.canvas.toDataURL(\"image/png\").substr(22),angle:e.angle,contentType:\"image/png\",height:p(a),width:p(i),xoffset:e.xoffset,yoffset:e.yoffset}}async _convertSvgRenderer(e){const t=e.type;if(\"simple\"===t&&H(e.symbol))e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol);else if(\"uniqueValue\"===t||\"classBreaks\"===t){H(e.defaultSymbol)&&(e.defaultSymbol=await this._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));const r=e[\"uniqueValue\"===t?\"uniqueValueInfos\":\"classBreakInfos\"];if(r)for(const e of r)H(e.symbol)&&(e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol))}}_getGraphics(e){return e.queryFeatures(Q).then((e=>e.features))}async _getPrintDefinition(e,t){const r=e.view;let i=r.spatialReference;const a={operationalLayers:await this._createOperationalLayers(r,t)};let s=this._ssExtent||e.extent||r.extent;return i&&i.isWrappable&&(s=s.clone()._normalize(!0),i=s.spatialReference),a.mapOptions={extent:s&&s.toJSON(),spatialReference:i&&i.toJSON(),showAttribution:t.attributionVisible},this._ssExtent=null,r.background&&(a.background=r.background.toJSON()),r.rotation&&(a.mapOptions.rotation=-r.rotation),t.scalePreserved&&(a.mapOptions.scale=t.outScale||r.scale),a}async _getGpPrintParams(e){const r=e.template||new $;null==r.showLabels&&(r.showLabels=!0);const i=r.exportOptions;let a;const n=_(r.layout);if(i){if(a={dpi:i.dpi},\"map_only\"===n.toLowerCase()||\"\"===n){const e=i.width,t=i.height;a.outputSize=[e,t]}}const o=r.layoutOptions;let l;if(o){let e,t;\"Miles\"===o.scalebarUnit||\"Kilometers\"===o.scalebarUnit?(e=\"Kilometers\",t=\"Miles\"):\"Meters\"!==o.scalebarUnit&&\"Feet\"!==o.scalebarUnit||(e=\"Meters\",t=\"Feet\"),l={titleText:o.titleText,authorText:o.authorText,copyrightText:o.copyrightText,customTextElements:o.customTextElements,scaleBarOptions:{metricUnit:B.toJSON(e),metricLabel:q[e],nonMetricUnit:B.toJSON(t),nonMetricLabel:q[t]}}}let c=null;o&&o.legendLayers&&(c=o.legendLayers.map((e=>{this._legendLayerNameMap[e.layerId]=e.title;const t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t})));const u=await this._getPrintDefinition(e,r);if(u.operationalLayers){const e=new RegExp(\"[\\\\u4E00-\\\\u9FFF\\\\u0E00-\\\\u0E7F\\\\u0900-\\\\u097F\\\\u3040-\\\\u309F\\\\u30A0-\\\\u30FF\\\\u31F0-\\\\u31FF]\"),t=/[\\u0600-\\u06FF]/,r=r=>{const i=r.text,a=r.font,s=a&&a.family&&a.family.toLowerCase();i&&a&&(\"arial\"===s||\"arial unicode ms\"===s)&&(a.family=e.test(i)?\"Arial Unicode MS\":\"Arial\",\"normal\"!==a.style&&t.test(i)&&(a.family=\"Arial Unicode MS\"))},i=()=>{throw new s(\"print-task:cim-symbol-unsupported\",\"CIMSymbol is not supported by a print service published from ArcMap\")};u.operationalLayers.forEach((e=>{var t,a,s;null!=(t=e.featureCollection)&&t.layers?e.featureCollection.layers.forEach((e=>{var t,a,s,n;if(null!=(t=e.layerDefinition)&&null!=(a=t.drawingInfo)&&null!=(s=a.renderer)&&s.symbol){const t=e.layerDefinition.drawingInfo.renderer;\"esriTS\"===t.symbol.type?r(t.symbol):\"CIMSymbolReference\"!==t.symbol.type||this._is11xService||i()}null!=(n=e.featureSet)&&n.features&&e.featureSet.features.forEach((e=>{e.symbol&&(\"esriTS\"===e.symbol.type?r(e.symbol):\"CIMSymbolReference\"!==e.symbol.type||this._is11xService||i())}))})):!this._is11xService&&null!=(a=e.layerDefinition)&&null!=(s=a.drawingInfo)&&s.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('\"type\":\"CIMSymbolReference\"')&&i()}))}e.outSpatialReference&&(u.mapOptions.spatialReference=e.outSpatialReference.toJSON()),t(u,{exportOptions:a,layoutOptions:l}),t(u.layoutOptions,{legendOptions:{operationalLayers:null!=c?c:this._legendLayers.slice()}}),this._legendLayers.length=0;const y={Web_Map_as_JSON:JSON.stringify(u),Format:b(r.format),Layout_Template:n};return e.extraParameters&&t(y,e.extraParameters),y}};e([r({dependsOn:[\"url\"]})],X.prototype,\"_geoprocessor\",null),e([r()],X.prototype,\"_gpMetadata\",void 0),e([r({dependsOn:[\"_gpMetadata\"],readOnly:!0})],X.prototype,\"mode\",null),e([r()],X.prototype,\"updateDelay\",void 0),X=e([a(\"esri.tasks.PrintTask\")],X);var Y=X;export default Y;\n"],"sourceRoot":""}