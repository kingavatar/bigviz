{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","webpack:///./node_modules/@arcgis/core/layers/support/Tilemap.js","webpack:///./node_modules/@arcgis/core/layers/support/TilemapCache.js","webpack:///./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","webpack:///./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js","webpack:///./node_modules/@arcgis/core/layers/ImageryTileLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js","webpack:///./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js"],"names":["t","e","this","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","s","r","has","get","refCount","delete","controller","abort","ts","Date","now","set","block","i","c","trim","updateTimer","clear","clearTimer","size","setInterval","Array","from","length","clearInterval","n","extent","rasterInfo","cache","push","decreaseRefCount","o","getBlock","putBlock","l","isResolved","isRejected","then","catch","deleteBlock","a","u","f","h","m","x","d","y","xmin","xmax","ymin","ymax","g","clone","normalize","spatialReference","p","transform","k","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","storageInfo","R","origin","C","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","location","left","top","width","height","_allAvailability","byteSize","_tileAvailabilityBitSet","Uint8Array","service","request","row","col","query","data","details","httpStatus","valid","response","definition","fromJSON","validateJSON","Object","freeze","_updateFromData","isArray","level","type","url","tileServers","z","A","getLogger","L","super","_handles","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","_prefetchingEnabled","_tilemapCache","watch","_initializeTilemapDefinition","_initializeAvailableLevels","destroy","error","_tmpTilemapDefinition","_tilemapFromCache","signal","fromDefinition","put","getAvailability","layer","tileInfo","updateTileInfo","upsampleTile","fetchTilemap","fetchAvailability","fetchAvailabilityUpsample","_fetchAvailabilityUpsamplePrefetch","id","remove","_prefetches","_maxPrefetch","removeUnordered","parsedUrl","path","hasTilemap","initialSize","constructOnly","Number","prototype","readOnly","dependsOn","J","arguments","_rasterJobHandler","instance","connectionPromise","bandIds","copyright","fullExtent","interpolation","raster","sourceJSON","symbolizer","_sliceId","getSliceIndex","_set","updateRenderer","loaded","JSON","stringify","_cachedRendererJson","renderer","rendererJSON","toJSON","bind","updateSymbolizer","pixelBlock","pixels","symbolize","simpleStretchParams","datasetFormat","create","_compatibleFullExtent","equals","computeExtent","requestAsImageElement","getTileUrl","responseType","sliceId","_ts","timestamp","_initJobHandler","multidimensionalDefinition","buffer","cols","rows","fetchTile","fetchPixels","identify","_shutdownJobHandler","_configDefaultInterpolation","_configDefaultSlice","_configDefaultRenderer","initialize","rasterJobHandler","tileType","defaultResamplingMethod","multidimensionalInfo","variables","dimensions","variableName","name","dimensionName","values","hasRegularIntervals","isSlice","warn","types","compression","firstPyramidLevel","maximumPyramidLevel","pyramidScalingFactor","isVirtualTileInfo","blockBoundary","json","write","String","Boolean","datasetName","ioConfig","sampling","addResolvingPromise","when","resolution","declaredClass","lodAt","getTileExtent","datumTransformation","intersects","value","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","rowOffset","colOffset","fetchRawTile","mask","map","fetchRawPixels","pixelBlocks","srcExtent","transformGrid","T","F","S","requestRawData","spacing","D","mosaicSize","isPartiallyFilled","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","coefficients","sampleSpacing","minRow","minCol","maxCol","maxRow","_fetchRawTile","allowPartialFill","nativePixelSize","pow","useCanvas","decode","options","customFetchParameters","range","headers","retryCount","Range","to","_getDimensionValuesCount","reduce","filter","_getIndexFromDimensions","shift","pixelSize","scale","lods","nativeExtent","round","log","LN2","_computeBlockBoundary","srcLocation","registryId","interval","unit","findIndex","indexOf","intervalUnit","toLowerCase","getUTCFullYear","DataView","getUint8","header","version","recordSet","getUint32","getUint16","recordCount","headerByteCount","recordByteCount","fromCharCode","typeName","byteLength","parseInt","apply","parseFloat","substring","fields","records","some","alias","concat","attributes","displayFieldName","features","init","_validateHeader","slice","lastIndexOf","_parseHeader","dataType","_fetchAuxiliaryInformation","attributeTable","_buildCacheFilePath","_getIndexRecordFromBundle","headerSize","_getTileEndAndContentType","recordSize","position","decodePixelBlock","planes","pixelType","bandCount","histograms","colormap","statistics","avg","mean","stddev","standardDeviation","median","mode","geodataXform","pixelSizeX","pixelSizeY","properties","format","replace","colors","LODInfos","resolutions","_","dpi","packetSize","mdInfo","keyProperties","parse","_toHexString4","toString","subarray","wkid","isPseudoSpatialReference","createRemoteDatasetStorageInfo","_buildInMemoryRaster","_pixelBlockTiles","split","tileSize","estimateStatisticsHistograms","polynomialOrder","_get","forwardCoefficients","inverseCoefficients","getElementsByTagNameNS","item","textContent","nodeValue","nodeName","isNaN","wkt","documentElement","tagName","metadata","rasterBands","childNodes","nodeType","getAttribute","toUpperCase","noDataValue","histogram","counts","sourceBandIndex","_fetchData","_fetchAuxiliaryData","forwardTransform","DateType","open","_inMemoryRaster","skipExtensions","aborted","_levelOffset","_slices","ssl","cacheType","_fetchRasterInfo","maxScale","abs","sort","minScale","capabilities","isPoint","variable","DataType","hasRasterAttributeTable","hasColormap","hasHistograms","hasMultidimensions","_fetchMultidimensionalInfo","slices","minValues","maxValues","meanValues","stdvValues","_files","_storageIndex","files","index","_parseIndex","ranges","actualTileWidth","actualTileHeight","_getTileLocation","validPixelCount","ArrayBuffer","Uint32Array","U","mrf","_headerInfo","_bufferSize","littleEndian","firstIFD","isBigTiff","readIFDs","tileWidth","tileHeight","tileBoundary","O","G","BandProperties","bandProperties","q","ifds","isSupported","message","getTileLocation","ifd","customOptions","headerInfo","offset","readIFD","TIFF_TAGS","nextIFD","success","offlineOffsetSize","valueOffset","GEO_KEYS","valueCount","requiredBufferSize","desc","constructor","supportedFormats","keys","RSP_NearestNeighbor","RSP_BilinearInterpolation","RSP_CubicConvolution","RSP_Majority","enabled","legendEnabled","isReference","listMode","title","operationalLayerType","popupEnabled","popupTemplate","loadFromPortal","supportedTypes","_openRaster","createPopupTemplate","domain","editable","layerDefinition","drawingInfo","test","messages","layerContainerType","currentVersion","copyrightText","_configDefaultSettings","overridePolicy","read","source","reader","disablePopup","target","origins","minLOD","maxLOD","ignoreMinMaxLOD","isWGS84","isWebMercator","async","center","isGeographic","N","W","NaN","Float32Array","offsets","projectedPixelSize","scales","srcResolutions"],"mappings":"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","file":"js/chunk-30099953.b404a07b.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as o,projectResolution as r,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const c=new Map,a=new n;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){c.get(e)[t]=null}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let e=0;e<o.length;e++)if(e!==t&&o[e]&&o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,r.set(n,t),t.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(n,a,i,s,u,f,h=null){const m=function(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}(n,a),x=m.extent,{cache:d,rasterInfo:y}=m;if(x&&x.xmin===i.xmin&&x.xmax===i.xmax&&x.ymin===i.ymin&&x.ymax===i.ymax)return;const g=i.clone().normalize(),{spatialReference:p,transform:k}=y,M=new Set;for(let n=0;n<g.length;n++){const c=g[n];if(c.xmax-c.xmin<=s||c.ymax-c.ymin<=s)continue;let a=o(c,p,h);e(k)&&(a=k.inverseTransform(a));const i=new t({x:s,y:s,spatialReference:c.spatialReference});if(null===u&&!(u=r(i,p,c,h)))return;const{pyramidLevel:m,pyramidResolution:x,excessiveReading:d}=l(u,y,f||\"closest\");if(d)return;const{storageInfo:R}=y,{origin:C}=R,j={x:Math.max(0,Math.floor((a.xmin-C.x)/x.x)),y:Math.max(0,Math.floor((C.y-a.ymax)/x.y))},v=Math.ceil((a.xmax-a.xmin)/x.x-.1),B=Math.ceil((a.ymax-a.ymin)/x.y-.1),b=m>0?R.pyramidBlockWidth:R.blockWidth,w=m>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${m}/${e}/${t}`)}d.forEach(((e,t)=>{if(!M.has(t)){const e=d.get(t);(null==e||e.isResolved||e.isRejected)&&d.delete(t)}})),m.extent={xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,y as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../core/lang.js\";import i from\"../../core/Error.js\";import{constant as e}from\"../../core/arrayUtils.js\";import a from\"../../request.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let i=0;i<t.length;i++){const e=i%8;t[i]?(l=!1,n[r]|=1<<e):a=!1,7===e&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(t,o){const r=t.service.request||a,{row:s,col:h,width:c,height:m}=t,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(t),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:e(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(i){l.validateJSON(i);const e=new l;return e.location=Object.freeze(t(i.location)),e._updateFromData(i.data),Object.freeze(e)}static validateJSON(t){if(!t||!t.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export default l;export{l as Tilemap,o as tilemapDefinitionId,n as tilemapDefinitionUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as l}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../core/Error.js\";import{objectToQuery as a}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/PooledArray.js\";import{reject as n,resolve as h,create as c,onAbort as p,createAbortError as m,isAbortError as u,createAbortController as f,isAborted as v}from\"../../core/promiseUtils.js\";import{waitTicks as y}from\"../../core/scheduling.js\";import d from\"../../core/Accessor.js\";import _ from\"../../request.js\";import b from\"../../core/Handles.js\";import{init as g}from\"../../core/watchUtils.js\";import w from\"../../core/LRUCache.js\";import{tilemapDefinitionId as T,Tilemap as j}from\"./Tilemap.js\";var z;const A=t.getLogger(\"esri.layers.support.TilemapCache\");let L=z=class extends d{constructor(e){super(e),this._handles=new b,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=_,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new w(this.cacheByteSize),this._handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\"],(()=>this._initializeTilemapDefinition())),g(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(A.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,l){if(!this._availableLevels[e])return n(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const r=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,r);if(a)return h(a);const o=l&&l.signal;return l={...l,signal:null},c(((e,t)=>{p(o,(()=>t(m())));const i=T(r);let s=this._pendingTilemapRequests[i];if(!s){s=j.fromDefinition(r,l).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const l=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return l?l.getAvailability(t,i):\"unknown\"}getAvailabilityUpsample(e,t,i,l){l.level=e,l.row=t,l.col=i;const r=this.layer.tileInfo;for(r.updateTileInfo(l);;){const e=this.getAvailability(l.level,l.row,l.col);if(\"unavailable\"!==e)return e;if(!r.upsampleTile(l))return\"unavailable\"}}fetchAvailability(e,t,i,l){return this._availableLevels[e]?this.fetchTilemap(e,t,i,l).catch((e=>e)).then((l=>{if(l instanceof j){const r=l.getAvailability(t,i);return\"unavailable\"===r?n(new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):r}if(u(l))throw l;return\"unknown\"})):n(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,l,r){l.level=e,l.row=t,l.col=i;const s=this.layer.tileInfo;s.updateTileInfo(l);const a=this.fetchAvailability(e,t,i,r).catch((e=>{if(u(e))throw e;if(s.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l);throw e}));return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,l,r,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this._handles.has(a))return;const o=f();s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const h={remove(){n||(n=!0,o.abort())}};if(this._handles.add(h,a),await y(10,o.signal).catch((()=>{})),n||(n=!0,this._handles.remove(a)),v(o))return;const c={id:e,level:t,row:i,col:l},p={...r,signal:o.signal},m=this.layer.tileInfo;for(let e=0;z._prefetches.length<z._maxPrefetch&&m.upsampleTile(c);++e){const e=this.fetchAvailability(c.level,c.row,c.col,p);z._prefetches.push(e);const t=()=>{z._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?a(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,l){l.level=e,l.row=t-t%this.size,l.col=i-i%this.size;const r=T(l);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,l)=>!!e._tilemapFromCache(t,i,l,e._tmpTilemapDefinition)}}};L._maxPrefetch=4,L._prefetches=new o({initialSize:z._maxPrefetch}),e([i({constructOnly:!0,type:Number})],L.prototype,\"levels\",void 0),e([l(\"levels\")],L.prototype,\"castLevels\",null),e([i({readOnly:!0,dependsOn:[\"levels\"],type:Number})],L.prototype,\"size\",null),e([i({constructOnly:!0,type:Number})],L.prototype,\"cacheByteSize\",void 0),e([i({constructOnly:!0})],L.prototype,\"layer\",void 0),e([i({constructOnly:!0})],L.prototype,\"request\",void 0),L=z=e([r(\"esri.layers.support.TilemapCache\")],L);export{L as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{getInfo as o}from\"../../geometry/support/spatialReferenceUtils.js\";import l from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Extent.js\";import\"../../geometry.js\";import d from\"../../request.js\";import{sanitizeUrl as p}from\"../support/arcgisLayerUrl.js\";import{url as m}from\"../support/commonProperties.js\";import{rasterRendererTypes as h}from\"../../rasterRenderers.js\";import u from\"../support/TileInfo.js\";import c from\"../support/DimensionalDefinition.js\";import f from\"../support/RasterJobHandler.js\";import{getDefaultInterpolation as y,getDefaultBandCombination as b,createDefaultRenderer as _}from\"../../renderers/support/rasterRendererHelper.js\";import g from\"../../renderers/support/RasterSymbolizer.js\";const I=r.getLogger(\"esri.layers.mixins.ImageryTileMixin\"),J=r=>{let J=class extends r{constructor(){super(...arguments),this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.fullExtent=null,this.interpolation=\"nearest\",this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.tileInfo=null,this.symbolizer=null}set multidimensionalDefinition(e){this.raster&&(this._sliceId=this.raster.getSliceIndex(e)),this._set(\"multidimensionalDefinition\",e)}set url(e){this._set(\"url\",p(e,I))}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}async updateRenderer(){if(!this.loaded)return;if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(this.renderer))return;const e=this._rasterJobHandler.instance;e&&(this.symbolizer.rendererJSON=this.renderer.toJSON(),this.symbolizer.bind(),await e.updateSymbolizer(this.symbolizer),this._cachedRendererJson=this.renderer.toJSON())}async applyRenderer(e,t){const r=e&&e.pixelBlock;if(!(r&&r.pixels&&r.pixels.length>0))return null;let i;this.updateRenderer();const s=this._rasterJobHandler.instance,{bandIds:n}=this;return i=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),i}getTileUrl(e,t,r){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:\"\"}getCompatibleTileInfo(e,t){if(!this.loaded)return null;const r=o(e);return u.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return d(s,{responseType:\"image\",query:{sliceId:this._sliceId,_ts:i.timestamp},signal:i.signal}).then((e=>e.data))}if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...i}}return\"raster-shaded-relief\"===this.renderer.type&&(i={buffer:{cols:1,rows:1},...i}),this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i){if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...i}}return this.raster.fetchPixels(e,t,r,i)}identify(e,t={}){return this.multidimensionalDefinition&&!t.multidimensionalDefinition&&(t={...t,multidimensionalDefinition:this.multidimensionalDefinition}),this.raster.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}_configDefaultSettings(){this._configDefaultInterpolation(),this._configDefaultSlice(),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new f;return this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,this.renderer&&this.updateRenderer()})).catch((()=>null)),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this.raster.rasterJobHandler=null}_configDefaultInterpolation(){if(null==this.interpolation){var e;const t=y(this.rasterInfo,this.raster.tileType,null==(e=this.sourceJSON)?void 0:e.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultSlice(){const{multidimensionalInfo:e}=this.raster.rasterInfo;if(t(e)){if(!this.multidimensionalDefinition){const t=e.variables[0],r=[];t.dimensions.forEach((e=>{r.push(new c({variableName:t.name,dimensionName:e.name,values:e.hasRegularIntervals?e.extent[0]:e.values[0],isSlice:!0}))})),this.multidimensionalDefinition=r}this._sliceId=this.raster.getSliceIndex(this.multidimensionalDefinition)}}_configDefaultRenderer(){const e=this.raster.rasterInfo;var t;(this.bandIds||(this.bandIds=b(e)),this.renderer)||(this.renderer=_(e,{bandIds:this.bandIds,variableName:null==(t=this.multidimensionalDefinition)?void 0:t[0].variableName}));this.symbolizer?(this.symbolizer.rendererJSON=this.renderer.toJSON(),this.symbolizer.rasterInfo=e):this.symbolizer=new g({rendererJSON:this.renderer.toJSON(),rasterInfo:e}),this.symbolizer.bind()||I.warn(\"imagery-tile-mixin\",\"The given renderer is not supported by the layer.\")}};return e([i()],J.prototype,\"_cachedRendererJson\",void 0),e([i()],J.prototype,\"_sliceId\",void 0),e([i()],J.prototype,\"_compatibleFullExtent\",void 0),e([i()],J.prototype,\"_rasterJobHandler\",void 0),e([i()],J.prototype,\"bandIds\",void 0),e([i()],J.prototype,\"copyright\",void 0),e([i({type:a}),s(\"rasterInfo.extent\")],J.prototype,\"fullExtent\",void 0),e([i()],J.prototype,\"interpolation\",void 0),e([i({type:[c]})],J.prototype,\"multidimensionalDefinition\",null),e([i()],J.prototype,\"raster\",void 0),e([i({readOnly:!0}),s(\"raster.rasterInfo\")],J.prototype,\"rasterInfo\",void 0),e([i()],J.prototype,\"sourceJSON\",void 0),e([i({type:l}),s(\"rasterInfo.spatialReference\")],J.prototype,\"spatialReference\",void 0),e([i({type:u,dependsOn:[\"rasterInfo\"]}),s(\"rasterInfo.storageInfo.tileInfo\")],J.prototype,\"tileInfo\",void 0),e([i(m)],J.prototype,\"url\",null),e([i({types:h})],J.prototype,\"renderer\",null),e([i()],J.prototype,\"symbolizer\",void 0),J=e([n(\"esri.layers.ImageryTileMixin\")],J),J};export{J as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import e from\"../../geometry/Point.js\";let s=class extends i{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null}};o([r({type:Number,json:{write:!0}})],s.prototype,\"blockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"blockHeight\",void 0),o([r({type:String,json:{write:!0}})],s.prototype,\"compression\",void 0),o([r({type:e,json:{write:!0}})],s.prototype,\"origin\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"firstPyramidLevel\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"maximumPyramidLevel\",void 0),o([r()],s.prototype,\"pyramidScalingFactor\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockHeight\",void 0),o([r({type:Boolean,json:{write:!0}})],s.prototype,\"isVirtualTileInfo\",void 0),o([r({json:{write:!0}})],s.prototype,\"tileInfo\",void 0),o([r()],s.prototype,\"blockBoundary\",void 0),s=o([t(\"esri.layers.support.RasterStorageInfo\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,unwrap as r}from\"../../../core/maybe.js\";import o from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{create as a,all as l,resolve as c,createAbortController as u,onAbort as m}from\"../../../core/promiseUtils.js\";import{JSONSupport as f}from\"../../../core/JSONSupport.js\";import h from\"../../../geometry/Point.js\";import d from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import p from\"../../../request.js\";import{EsriPromiseMixin as x}from\"../../../core/Promise.js\";import{sanitizeUrl as y}from\"../arcgisLayerUrl.js\";import{url as g}from\"../commonProperties.js\";import w from\"../TileInfo.js\";import{decode as I}from\"../rasterFormats/RasterCodec.js\";import{mosaic as M,approximateTransform as R}from\"../rasterFunctions/pixelUtils.js\";import v from\"../RasterStorageInfo.js\";import{load as k,projectPoint as b,snapPyramid as C,projectResolution as j,projectExtent as B,getProjectionOffsetGrid as P}from\"../rasterFunctions/rasterProjectionHelper.js\";import{getRasterId as T,getBlock as F,putBlock as S,deleteBlock as L,decreaseRefCount as D}from\"./RawBlockCache.js\";let H=class extends(x(f)){constructor(){super(...arguments),this.rasterJobHandler=null,this.datasetName=null,this.datasetFormat=null,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}async init(){const e=k();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:w.create(),...e.ioConfig}}),e}set url(e){this._set(\"url\",y(e,o.getLogger(this.declaredClass)))}async open(e){throw new s(\"BaseRaster:open-not-implemented\",\"open() is not implemented\")}async fetchTile(e,r,o,i={}){var n;const{tileInfo:s}=i,a=s.lodAt(e),l=new h({x:a.resolution,y:a.resolution,spatialReference:s.spatialReference}),c=this.getTileExtent(l,r,o,s);return null!=(n=i.multidimensionalDefinition)&&n.length&&t(this.rasterInfo.multidimensionalInfo)&&null==i.sliceId&&(i={...i,sliceId:this.getSliceIndex(i.multidimensionalDefinition)||0}),this.fetchPixels(c,s.size[0],s.size[1],i)}async identify(e,r={}){const{spatialReference:o,extent:i}=this.rasterInfo,{datumTransformation:n}=r,s=b(e,o,n);if(!i.intersects(s))return{location:s,value:null};let a=0;if(r.srcResolution){a=C(r.srcResolution,this.rasterInfo,this.ioConfig.sampling).pyramidLevel}else if(a=await this.computeBestPyramidLevelForLocation(e,r),null==a)return{location:s,value:null};const l=this.identifyPixelLocation(s,a,null);if(null===l)return{location:s,value:null};const{row:c,col:u,rowOffset:m,colOffset:f}=l,h=T(this.url,r.sliceId),d=`${a}/${c}/${u}`;let p=F(h,null,d);t(p)||(p=this.fetchRawTile(a,c,u,r),S(h,null,d,p));const x=await p;if(!(x&&x.pixels&&x.pixels.length>0))return{location:s,value:null};const y=m*this.rasterInfo.storageInfo.blockHeight+f;return{location:s,value:!x.mask||x.mask[y]?x.pixels.map((e=>e[y])):null,pyramidLevel:a}}async fetchPixels(e,t,o,i={}){const n=e.clone().normalize();e=n[0];const s=this.rasterInfo.spatialReference,a=!e.spatialReference.equals(s),{datumTransformation:l}=i,c=new h({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/o,spatialReference:e.spatialReference}),u=i.srcResolution||(a?j(c,s,e,l):c);if(!u)return null;const{pyramidLevel:m,pyramidResolution:f,excessiveReading:d}=C(u,this.rasterInfo,this.ioConfig.sampling);if(d)return null;const p=this.rasterInfo.storageInfo;let x=a?B(e,s,l):e;const y=r(this.rasterInfo.transform);if(y&&(x=y.inverseTransform(x)),null==x)return null;const g={x:Math.floor((x.xmin-p.origin.x)/f.x+.1),y:Math.floor((p.origin.y-x.ymax)/f.y+.1)},w=Math.ceil((x.xmax-x.xmin)/f.x-.1),I=Math.ceil((x.ymax-x.ymin)/f.y-.1);if(w/t>8||I/o>8)return null;const v=await this.fetchRawPixels(m,g,{width:w,height:I},i);if(!v)return null;const k=m>0?p.pyramidBlockWidth:p.blockWidth,b=m>0?p.pyramidBlockHeight:p.blockHeight;if(!a&&1===v.pixelBlocks.length&&k===t&&b===o&&u.x===c.x&&u.y===c.y)return{extent:e,srcExtent:x,pixelBlock:v.pixelBlocks[0],transformGrid:null};const T=P(e,v.extent,c,l,y);let F;const S=!i.requestRawData,L={rows:T.spacing[0],cols:T.spacing[1]},{pixelBlocks:D,mosaicSize:H,isPartiallyFilled:z}=v;if(this.rasterJobHandler)F=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:D,srcMosaicSize:H,destDimension:S?{width:t,height:o}:null,coefs:S?T.coefficients:null,sampleSpacing:S?L:null,interpolation:i.interpolation},i);else{const e=M(D,H);F=S?R(e,{width:t,height:o},T.coefficients,L,i.interpolation):e}return{srcExtent:x,pixelBlock:F,transformGrid:T,extent:e,isPartiallyFilled:z}}async fetchRawPixels(e,t,r,o){const{origin:i,blockBoundary:n}=this.rasterInfo.storageInfo,s=e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,c=e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight;let{x:u,y:m}=t,{width:f,height:h}=r;o.buffer&&(u-=o.buffer.cols,m-=o.buffer.rows,f+=2*o.buffer.cols,h+=2*o.buffer.rows);const p=Math.floor(u/s),x=Math.floor(m/c),y=Math.floor((u+f-1)/s),g=Math.floor((m+h-1)/c),w=n[e];if(!w)return null;const{minRow:I,minCol:M,maxCol:R,maxRow:v}=w;if(g<I||y<M||x>v||p>R)return null;const k=[];let b,C=!1;for(let t=x;t<=g;t++)for(let r=p;r<=y;r++)t>=I&&r>=M&&v>=t&&R>=r?(b=this._fetchRawTile(e,t,r,o),this.ioConfig.allowPartialFill&&(b=a((e=>{b.then((t=>e(t))).catch((()=>{C=!0,e(null)}))}))),k.push(b)):k.push(null);if(0===k.length)return null;const j=await l(k),B={height:(g-x+1)*s,width:(y-p+1)*c},{nativePixelSize:P,spatialReference:T}=this.rasterInfo,F=P.x*Math.pow(2,e),S=P.y*Math.pow(2,e);return{extent:new d({xmin:i.x+p*s*F,xmax:i.x+(y+1)*s*F,ymin:i.y-(g+1)*c*S,ymax:i.y-x*c*S,spatialReference:T}),pixelBlocks:j,mosaicSize:B,isPartiallyFilled:C}}async fetchRawTile(e,t,r,o){throw new s(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return B(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?I(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,t,r){var o,i;const{customFetchParameters:n}=this.ioConfig,{range:s,query:a,headers:l}=t;r=null!=(o=null!=(i=r)?i:t.retryCount)?o:this.ioConfig.retryCount;const c=s?{Range:`bytes=${s.from}-${s.to}`}:null;try{return await p(e,{...t,query:{...a,...n},headers:{...l,...c}})}catch(o){if(r>0)return r--,this.request(e,t,r);throw o}}getSliceIndex(e){const{multidimensionalInfo:r}=this.rasterInfo;if(!t(r)||null==e||!e.length)return null;let o=0;const i=e[0].variableName;for(let t=0;t<r.variables.length;t++){const n=r.variables[t],s=n.dimensions;if(n.name!==i){o+=s.map((e=>this._getDimensionValuesCount(e))).reduce(((e,t)=>e+t));break}const a=s.map((e=>this._getDimensionValuesCount(e))),l=s.length;for(let t=0;t<l;t++){const r=e.filter((e=>e.dimensionName===s[t].name))[0];if(null==r)return null;const i=Array.isArray(r.values[0])?r.values[0][0]:r.values[0],n=this._getIndexFromDimensions(i,s[t]);if(-1===n)return null;a.shift(),o+=t===l-1?n:n*a.reduce(((e,t)=>e+t))}}return o}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:r,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const i=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),a=1/.0254*96*s;for(let e=0;e<=n;e++)i.push({level:n-e,resolution:s,scale:a}),s*=2,a*=2;const l=new h({x:r.xmin,y:r.ymax,spatialReference:t});e.tileInfo=new w({origin:l,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:i}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,r=512,o){const{width:i,height:n,nativeExtent:s,pixelSize:a,spatialReference:l}=e,c=new h({x:s.xmin,y:s.ymax,spatialReference:l});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(i,n))/Math.LN2-8)));const u=this._computeBlockBoundary(s,a,o,512,512);e.storageInfo=new v({blockWidth:t,blockHeight:r,pyramidBlockWidth:t,pyramidBlockHeight:r,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:u})}async computeBestPyramidLevelForLocation(e,t={}){return 0}identifyPixelLocation(e,t,r){const{spatialReference:o,pixelSize:i,extent:n}=this.rasterInfo,{blockWidth:s,blockHeight:a,maximumPyramidLevel:l,pyramidScalingFactor:c,origin:u}=this.rasterInfo.storageInfo,m=b(e,o,r);if(!n.intersects(m))return null;if(t<0||t>l)return null;const f=Math.pow(c,t),h=f*i.x,d=f*i.y,p=(u.y-m.y)/d/a,x=(m.x-u.x)/h/s,y=Math.min(a-1,Math.floor((p-Math.floor(p))*a)),g=Math.min(s-1,Math.floor((x-Math.floor(x))*s));return{pyramidLevel:t,row:Math.floor(p),col:Math.floor(x),rowOffset:y,colOffset:g,srcLocation:m}}getTileExtent(e,t,r,o){const{origin:i,spatialReference:n}=o,s=o.size[0],a=o.size[1],l=i.x+r*s*e.x,c=l+s*e.x,u=i.y-t*a*e.y,m=u-a*e.y;return new d({xmin:l,xmax:c,ymin:m,ymax:u,spatialReference:n})}_computeBlockBoundary(e,t,r,o,i){let{x:n,y:s}=t;const a=e.xmin,l=e.ymax,c=[{minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/s),maxRow:Math.floor((l-e.ymin-.1*s)/i/s)}];if(r>0)for(let t=0;t<r;t++)n*=2,s*=2,c.push({minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/n),maxRow:Math.floor((l-e.ymin-.1*s)/i/n)});return c}_fetchRawTile(e,r,o,i){const n=this.rasterInfo.storageInfo.blockBoundary[e];if(!n)return c(null);const{minRow:s,minCol:a,maxCol:l,maxRow:f}=n;if(r<s||o<a||r>f||o>l)return c(null);const h=T(this.url,i.sliceId),d=`${e}/${r}/${o}`;let p=F(h,i.registryId,d);if(!t(p)){const t=u();p=this.fetchRawTile(e,r,o,{...i,signal:t.signal}),S(h,i.registryId,d,p,t),p.catch((()=>{L(h,i.registryId,d)}))}return i.signal&&m(i,(()=>{D(h,i.registryId,d)})),p}_getIndexFromDimensions(e,t){const{extent:r,interval:o,unit:i,values:n}=t;if(null!=n&&n.length)return Array.isArray(n[0])?n.findIndex((t=>t[0]<=e&&t[1]>=e)):n.indexOf(e);if(e>r[1])return-1;const s=r[0];let a=-1;if(\"ISO8601\"===i){var l;switch((null==(l=t.intervalUnit)?void 0:l.toLowerCase())||\"seconds\"){case\"seconds\":a=Math.round((e-s)/1e3/o);break;case\"minutes\":a=Math.round((e-s)/6e4/o);break;case\"hours\":a=Math.round((e-s)/36e5/o);break;case\"days\":a=Math.round((e-s)/864e5/o);break;case\"years\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/o);break;case\"decades\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/o)}return a}return Math.round((e-s)/o)}_getDimensionValuesCount(e){const{extent:t,interval:r,unit:o,values:i}=e;let n=(null==i?void 0:i.length)||0;if(n)return n;const s=t[0];if(0===n&&\"ISO8601\"===o){var a;switch((null==(a=e.intervalUnit)?void 0:a.toLowerCase())||\"seconds\"){case\"seconds\":n=Math.round((t[1]-t[0])/1e3/r);break;case\"minutes\":n=Math.round((t[1]-t[0])/6e4/r);break;case\"hours\":n=Math.round((t[1]-t[0])/36e5/r);break;case\"days\":n=Math.round((t[1]-t[0])/864e5/r);break;case\"years\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/r);break;case\"decades\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/10/r)}return n}return Math.round((t[1]-t[0])/r)}};e([i(g)],H.prototype,\"url\",null),e([i({type:String,json:{write:!0}})],H.prototype,\"datasetName\",void 0),e([i({type:String,json:{write:!0}})],H.prototype,\"datasetFormat\",void 0),e([i()],H.prototype,\"rasterInfo\",void 0),e([i()],H.prototype,\"ioConfig\",void 0),e([i()],H.prototype,\"sourceJSON\",void 0),H=e([n(\"esri.layers.support.rasterDatasets.BaseRaster\")],H);var z=H;export default z;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"./byteStreamUtils.js\";export default class{static get supportedVersions(){return[5]}static parse(t){const r=new DataView(t),n=3&r.getUint8(0);if(3!==n)return{header:{version:n},recordSet:null};const i=r.getUint32(4,!0),s=r.getUint16(8,!0),a=r.getUint16(10,!0),o={version:n,recordCount:i,headerByteCount:s,recordByteCount:a};let l=32;const p=[],g=[];let u;if(3===n){for(;13!==r.getUint8(l);)u=String.fromCharCode(r.getUint8(l+11)).trim(),p.push({name:e(new Uint8Array(t,l,11)),type:u,typeName:[\"String\",\"Date\",\"Double\",\"Boolean\",\"String\",\"Integer\"][[\"C\",\"D\",\"F\",\"L\",\"M\",\"N\"].indexOf(u)],length:r.getUint8(l+16)}),l+=32;if(l+=1,p.length>0)for(;g.length<i&&t.byteLength-l>a;){const n=[];32===r.getUint8(l)?(l+=1,p.forEach((r=>{if(\"C\"===r.type)n.push(e(new Uint8Array(t,l,r.length)).trim());else if(\"N\"===r.type)n.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(t,l,r.length)).trim(),10));else if(\"F\"===r.type)n.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(t,l,r.length)).trim()));else if(\"D\"===r.type){const e=String.fromCharCode.apply(null,new Uint8Array(t,l,r.length)).trim();n.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}l+=r.length})),g.push(n)):l+=a}}const d=function(e){const t=e.fields,r=e.records,n=t.some((e=>\"oid\"===e.name.toLowerCase()))?\"OBJECTID\":\"OID\",i=[{name:n,type:\"esriFieldTypeOID\",alias:\"OID\"}].concat(t.map((e=>({name:e.name,type:\"esriFieldType\"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:\"\",fields:i,features:a}}({fields:p,records:g});return{header:o,fields:p,records:g,recordSet:d}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{all as s}from\"../../../core/promiseUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../../../tasks/support/FeatureSet.js\";import m from\"../TileInfo.js\";import p from\"../RasterInfo.js\";import c from\"../RasterStorageInfo.js\";import u from\"./BaseRaster.js\";import d from\"./DBFParser.js\";const h=new Map;h.set(\"int16\",\"esriFieldTypeSmallInteger\"),h.set(\"int32\",\"esriFieldTypeInteger\"),h.set(\"int64\",\"esriFieldTypeInteger\"),h.set(\"float32\",\"esriFieldTypeSingle\"),h.set(\"float64\",\"esriFieldTypeDouble\"),h.set(\"text\",\"esriFieldTypeString\");let g=class extends u{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat=\"CRF\"}async open(e){await this.init();const{data:t}=await this.request(this.url+\"/conf.json\",{signal:null==e?void 0:e.signal});if(!this._validateHeader(t))throw new i(\"cloudraster:open\",\"Invalid or unsupported conf.json.\");this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{storageInfo:r,rasterInfo:o}=this._parseHeader(t);if(\"thematic\"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e}this._set(\"storageInfo\",r),this._set(\"rasterInfo\",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const i=this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(i<0)return null;const s=this._buildCacheFilePath(i,t,r,o.multidimensionalDefinition),a=this._getIndexRecordFromBundle(t,r),n=await this.request(s,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:\"array-buffer\",signal:o.signal});if(!n)return null;const l=new Uint8Array(n.data),f=this._getTileEndAndContentType(l,a);if(0===f.recordSize)return null;const m=await this.request(s,{range:{from:f.position,to:f.position+f.recordSize},responseType:\"array-buffer\",signal:o.signal});return m?this.decodePixelBlock(m.data,{width:this.rasterInfo.storageInfo.tileInfo.size[0],height:this.rasterInfo.storageInfo.tileInfo.size[1],planes:null,pixelType:null}):null}_validateHeader(e){return e&&\"RasterInfo\"===e.type&&![\"origin\",\"extent\",\"geodataXform\",\"LODInfos\",\"blockWidth\",\"blockHeight\",\"bandCount\",\"pixelType\",\"pixelSizeX\",\"pixelSizeY\",\"format\",\"packetSize\"].some((t=>!e[t]))}_parseHeader(e){var t;const r=[\"u1\",\"u2\",\"u4\",\"u8\",\"s8\",\"u16\",\"s16\",\"u32\",\"s32\",\"f32\",\"f64\"][e.pixelType],{bandCount:o,histograms:i,colormap:s,blockWidth:f,blockHeight:u,firstPyramidLevel:d,maximumPyramidLevel:h}=e,g=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),y=new a(e.extent.spatialReference||e.geodataXform.spatialReference),x=new l({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:y}),I=new n({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:y}),S=null!=(t=e.properties)?t:{},v=e.format.toLowerCase().replace(\"cache/\",\"\"),b=new n(e.origin.x,e.origin.y,y);let w,j,T,z;if(s&&s.colors)for(w=[],j=0;j<s.colors.length;j++)T=s.colors[j],z=s.values?s.values[j]:j,w.push([z,255&T,T<<16>>>24,T<<8>>>24,T>>>24]);const R=e.LODInfos,k=[];for(j=0;j<R.levels.length;j++)k.push({level:R.levels[j],resolution:R.resolutions[j],scale:96/.0254*R.resolutions[j]});const _=new m({dpi:96,lods:k,format:v,origin:b,size:[f,u],spatialReference:y}),C={recordSize:8,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*8+64},F=Math.round((x.xmax-x.xmin)/I.x),H=Math.round((x.ymax-x.ymin)/I.y),P=[{maxCol:Math.ceil(F/f)-1,maxRow:Math.ceil(H/u)-1,minCol:0,minRow:0}];let L=2;if(h>0)for(j=0;j<h;j++)P.push({maxCol:Math.ceil(F/L/f)-1,maxRow:Math.ceil(H/L/u)-1,minCol:0,minRow:0}),L*=2;const D=e.mdInfo;return{storageInfo:C,rasterInfo:new p({width:F,height:H,pixelType:r,bandCount:o,extent:x,spatialReference:y,pixelSize:I,keyProperties:S,statistics:g,histograms:i,multidimensionalInfo:D,colormap:w,storageInfo:new c({blockWidth:f,blockHeight:u,pyramidBlockWidth:f,pyramidBlockHeight:u,origin:b,tileInfo:_,firstPyramidLevel:d,maximumPyramidLevel:h,blockBoundary:P})})}}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+\"/conf.vat.json\",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+\"/conf.vat.dbf\",{responseType:\"array-buffer\",signal:e}).then((e=>e.data)).catch((()=>null)),o=await s([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:\"OID\"===e.name?\"esriFieldTypeOID\":h.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=d.parse(o[1]).recordSet}return f.fromJSON(i)}_buildCacheFilePath(e,r,o,i){const s=this.storageInfo.packetSize,a=Math.floor(r/s)*s,n=Math.floor(o/s)*s,l=\"R\"+this._toHexString4(a)+\"C\"+this._toHexString4(n);let f=\"L\";f+=e>=10?e.toString():\"0\"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,p=null==i?void 0:i[0];if(!t(m)||!p)return`${this.url}/_alllayers/${f}/${l}.bundle`;let c=m.variables.filter((e=>e.name===p.variableName))[0].dimensions[0].values.indexOf(p.values[0]).toString(16);const u=4-c.length;for(let e=0;e<u;e++)c=\"0\"+c;return c=\"S\"+c,`${this.url}/_alllayers/${p.variableName}/${c}/${f}/${l}.bundle`}_getIndexRecordFromBundle(e,t){const r=this.storageInfo.packetSize,o=r*(e%r)+t%r;if(o<0)throw\"Invalid level / row / col\";return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t=\"0\"+t}return t}};e([r({readOnly:!0})],g.prototype,\"storageInfo\",void 0),e([r({type:String,json:{write:!0}})],g.prototype,\"datasetFormat\",void 0),g=e([o(\"esri.layers.support.rasterDatasets.CloudRaster\")],g);var y=g;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as o,eachAlways as a}from\"../../../core/promiseUtils.js\";import m from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import l from\"../RasterInfo.js\";import{split as p,estimateStatisticsHistograms as c}from\"../rasterFunctions/pixelUtils.js\";import h from\"./BaseRaster.js\";let u=class extends h{constructor(){super(...arguments),this.datasetFormat=\"MEMORY\"}async open(t){var e;await this.init();const{pixelBlock:s,statistics:r,histograms:i,name:o,keyProperties:a,nativeExtent:p,transform:c}=this.data,{width:h,height:u,pixelType:d}=s,f=this.data.extent||new n({xmin:-.5,ymin:.5,xmax:h-.5,ymax:u-.5,spatialReference:new m({wkid:3857})}),y=null!=(e=this.data.isPseudoSpatialReference)?e:!this.data.extent,x={x:f.width/h,y:f.height/u},g=new l({width:h,height:u,pixelType:d,extent:f,nativeExtent:p,transform:c,pixelSize:x,spatialReference:f.spatialReference,bandCount:3,keyProperties:a||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set(\"rasterInfo\",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=o,this.url=\"/InMemory/\"+o}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return o(i)}async _buildInMemoryRaster(t,s,r){const m=this.rasterInfo.storageInfo.maximumPyramidLevel,n=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:s,maximumPyramidLevel:m},r):o(p(t,s,m)),l=e(this.rasterInfo.statistics),h=e(this.rasterInfo.histograms),u=l&&h?o({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):o(c(t)),d=await a([n,u]);if(!d[0].value&&d[1].value)throw new i(\"inmemory-raster:open\",\"failed to build in memory raster\");var f,y;(this._pixelBlockTiles=d[0].value,l)||(this.rasterInfo.statistics=null==(f=d[1].value)?void 0:f.statistics);h&&(this.rasterInfo.histograms=null==(y=d[1].value)?void 0:y.histograms)}};t([s({type:String,json:{write:!0}})],u.prototype,\"datasetFormat\",void 0),t([s()],u.prototype,\"data\",void 0),u=t([r(\"esri.layers.support.rasterDatasets.InMemoryRaster\")],u);var d=u;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import s from\"../../../geometry/Point.js\";import i from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";function n(e,r,t){const{x:o,y:s}=r;if(t<2){return{x:e[0]+o*e[2]+s*e[4],y:e[1]+o*e[3]+s*e[5]}}if(2===t){const r=o*o,t=s*s,i=o*s;return{x:e[0]+o*e[2]+s*e[4]+r*e[6]+i*e[8]+t*e[10],y:e[1]+o*e[3]+s*e[5]+r*e[7]+i*e[9]+t*e[11]}}const i=o*o,n=s*s,p=o*s,a=i*o,f=i*s,c=o*n,l=s*n;return{x:e[0]+o*e[2]+s*e[4]+i*e[6]+p*e[8]+n*e[10]+a*e[12]+f*e[14]+c*e[16]+l*e[18],y:e[1]+o*e[3]+s*e[5]+i*e[7]+p*e[9]+n*e[11]+a*e[13]+f*e[15]+c*e[17]+l*e[19]}}function p(e,r,t){const{xmin:o,ymin:s,xmax:p,ymax:a,spatialReference:f}=r;let c=[];if(t<2)c.push({x:o,y:a}),c.push({x:p,y:a}),c.push({x:o,y:s}),c.push({x:p,y:s});else{let e=10;for(let r=0;r<e;r++)c.push({x:o,y:s+(a-s)*r/(e-1)}),c.push({x:p,y:s+(a-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)c.push({x:o+(p-o)*r/e,y:s}),c.push({x:o+(p-o)*r/e,y:a})}c=c.map((r=>n(e,r,t)));const l=c.map((e=>e.x)),m=c.map((e=>e.y));return new i({xmin:Math.min.apply(null,l),xmax:Math.max.apply(null,l),ymin:Math.min.apply(null,m),ymax:Math.max.apply(null,m),spatialReference:f})}let a=class extends o{constructor(){super(...arguments),this.polynomialOrder=1}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=function(e){const[r,t,o,s,i,n]=e,p=o*n-i*s,a=i*s-o*n;return[(i*t-r*n)/p,(o*t-r*s)/a,n/p,s/a,-i/p,-o/a]}(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}forwardTransform(e){if(\"point\"===e.type){const r=n(this.forwardCoefficients,e,this.polynomialOrder);return new s({x:r.x,y:r.y,spatialReference:e.spatialReference})}return p(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=n(this.inverseCoefficients,e,this.polynomialOrder);return new s({x:r.x,y:r.y,spatialReference:e.spatialReference})}return p(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],a.prototype,\"polynomialOrder\",void 0),e([r({json:{write:!0}})],a.prototype,\"forwardCoefficients\",void 0),e([r({dependsOn:[\"forwardCoefficients\"],json:{write:!0}})],a.prototype,\"inverseCoefficients\",null),a=e([t(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],a);var f=a;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.indexOf(\"/\")>-1?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item[n]);return r}function e(t,l){if(!t||!l)return null;let r=l;l.indexOf(\"/\")>-1?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){return t(n,e).split(\" \").map((n=>Number(n)))}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){var t;const l=null==n||null==(t=n.nodeName)?void 0:t.toLowerCase(),r=e.toLowerCase();return l.slice(l.lastIndexOf(\":\")+1)===r}function f(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,f as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/SpatialReference.js\";import\"../../../geometry.js\";import{isSameTagIgnoreNS as t,getElementValue as n,getElements as a,getElement as r,getElementNumericValue as s,getElementNumericValues as l}from\"./xmlUtilities.js\";import o from\"../rasterTransforms/PolynomialTransform.js\";function i(e,t){if(!e||!t)return null;const n=[];for(let a=0;a<e.length;a++)n.push(e[a]),n.push(t[a]);return n}function u(t){if(!t)return null;let n=Number(t);if(!isNaN(n)&&0!==n)return new e({wkid:n});const a=t.replace(/\\]/g,\"[\").replace(/\\\"/g,\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),r=a[a.length-1].split(\",\");return\"EPSG\"!==r[0]||(n=Number(r[1]),isNaN(n)||0===n)?new e({wkt:t}):new e({wkid:n})}function f(e){var f;if(\"pamdataset\"!==(null==e||null==(f=e.documentElement.tagName)?void 0:f.toLowerCase()))return{};const c={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};e.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(t(e,\"SRS\")){if(!c.spatialReference){const t=n(e);c.spatialReference=u(t)}}else if(t(e,\"Metadata\"))if(\"xml:ESRI\"===e.getAttribute(\"domain\")){const{spatialReference:t,transform:a}=function(e){var t;const a=r(e,\"GeodataXform\"),f=u(s(a,\"SpatialReference/WKID\")||n(a,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==a.getAttribute(\"xsi:type\"))return{spatialReference:f,transform:null};const c=null!=(t=s(a,\"PolynomialOrder\"))?t:1,m=l(a,\"CoeffX/Double\"),d=l(a,\"CoeffY/Double\"),p=l(a,\"InverseCoeffX/Double\"),I=l(a,\"InverseCoeffY/Double\"),S=i(m,d),g=i(p,I);return{spatialReference:f,transform:new o({polynomialOrder:c,forwardCoefficients:S,inverseCoefficients:g})}}(e);c.transform=a,c.spatialReference||(c.spatialReference=t)}else{a(e,\"MDI\").forEach((e=>c.metadata[e.getAttribute(\"key\")]=n(e)))}else if(t(e,\"PAMRasterBand\")){const t=function(e){var t;const l=s(e,\"NoDataValue\"),o=r(e,\"Histograms/HistItem\"),i=s(o,\"HistMin\"),u=s(o,\"HistMax\"),f=s(o,\"BucketCount\"),c=null==(t=n(o,\"HistCounts\"))?void 0:t.split(\"|\").map((e=>Number(e)));let m,d,p,I;a(e,\"Metadata/MDI\").forEach((e=>{var t;const n=Number(null!=(t=e.textContent)?t:e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":m=n;break;case\"STATISTICS_MAXIMUM\":d=n;break;case\"STATISTICS_MEAN\":p=n;break;case\"STATISTICS_STDDEV\":I=n}}));const S=s(e,\"Metadata/SourceBandIndex\");return{noDataValue:l,histogram:null!=c&&c.length&&null!=m&&null!=d?{min:i,max:u,size:f||c.length,counts:c}:null,sourceBandIndex:S,statistics:null!=m&&null!=d?{min:m,max:d,avg:p,stddev:I}:null}}(e);null!=t.sourceBandIndex&&null==c.rasterBands[t.sourceBandIndex]?c.rasterBands[t.sourceBandIndex]=t:c.rasterBands.push(t)}}));const m=c.rasterBands;if(m){const e=!!m[0].statistics;c.statistics=e?m.map((e=>e.statistics)):null;const t=!!m[0].histogram;c.histograms=t?m.map((e=>e.histogram)):null}return c}export{f as parsePAMInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as a,createAbortError as i}from\"../../../core/promiseUtils.js\";import n from\"../../../geometry/SpatialReference.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getFormat as m}from\"../rasterFormats/RasterCodec.js\";import{estimateStatisticsFromHistograms as p}from\"../rasterFunctions/pixelUtils.js\";import c from\"./BaseRaster.js\";import f from\"./InMemoryRaster.js\";import u from\"../rasterTransforms/PolynomialTransform.js\";import{parsePAMInfo as h}from\"./pamParser.js\";let d=class extends c{async open(t){await this.init();const r=await this._fetchData(t);let{spatialReference:e,statistics:s,histograms:o,transform:a}=await this._fetchAuxiliaryData(t);const i=!e;i&&(e=new n({wkid:3857})),null!=o&&o.length&&null==s&&(s=p(o));const{width:m,height:c}=r;let u=new l({xmin:-.5,ymin:.5-c,xmax:m-.5,ymax:.5,spatialReference:e});const h=a?a.forwardTransform(u):u;let d=!0;if(a){const t=a.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(a=null,u=h)}const x=new f({data:{extent:h,nativeExtent:u,transform:a,pixelBlock:r,statistics:s,histograms:o,keyProperties:{DateType:\"Processed\"},isPseudoSpatialReference:i}});await x.open(),this._set(\"rasterInfo\",x.rasterInfo),this._inMemoryRaster=x}fetchRawTile(t,r,e,s={}){return this._inMemoryRaster.fetchRawTile(t,r,e,s)}async _fetchData(t){const{data:r}=await this.request(this.url,{responseType:\"array-buffer\",signal:null==t?void 0:t.signal}),e=m(r).toUpperCase();if(\"JPG\"!==e&&\"PNG\"!==e&&\"GIF\"!==e&&\"BMP\"!==e)throw new o(\"image-aux-raster:open\",\"the data is not a supported format\");this._set(\"datasetFormat\",e);return await this.decodePixelBlock(r,{format:\"jpg\",width:1,height:1,useCanvas:!0})}async _fetchAuxiliaryData(t){var e,s;const o=r(null==t?void 0:t.signal),n=null!=(e=this.ioConfig.skipExtensions)?e:[],l=n.indexOf(\"aux.xml\")>-1?null:this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:o}),m=this.datasetFormat,p=\"JPG\"===m?\"jgw\":\"PNG\"===m?\"pgw\":\"BMP\"===m?\"bpw\":null,c=n.indexOf(p)>-1?null:this.request(this.url.slice(0,this.url.lastIndexOf(\".\"))+\".\"+p,{responseType:\"text\",signal:o}),f=await a([l,c]);if(null!=o&&o.aborted)throw i();const d=h(null==(s=f[0].value)?void 0:s.data);if(!d.transform){const t=f[1].value?f[1].value.data.split(\"\\n\").slice(0,6).map((t=>Number(t))):null;d.transform=6===(null==t?void 0:t.length)?new u({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return d}};t([e({type:String,json:{write:!0}})],d.prototype,\"datasetFormat\",void 0),d=t([s(\"esri.layers.support.rasterDatasets.ImageAuxRaster\")],d);var x=d;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import{urlToObject as r}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{all as l}from\"../../../core/promiseUtils.js\";import o from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import h from\"../../../tasks/support/FeatureSet.js\";import c from\"../TileInfo.js\";import{readServiceTileInfo as u}from\"../serviceTileInfoProperty.js\";import{TilemapCache as p}from\"../TilemapCache.js\";import f from\"../RasterInfo.js\";import{setValidBoundary as d}from\"../rasterFunctions/pixelUtils.js\";import y from\"../RasterStorageInfo.js\";import x from\"./BaseRaster.js\";let g=class extends x{constructor(){super(...arguments),this._levelOffset=0,this._slices=null,this._tilemapCache=null,this.datasetFormat=\"RasterTileServer\"}async open(e){await this.init();const i=e&&e.signal,s=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:\"json\"},signal:i});s.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const l=s.data;this.sourceJSON=l;const o=[\"jpg\",\"jpeg\",\"png\",\"png8\",\"png24\",\"png32\",\"mixed\"];if(this.tileType=l.cacheType,null==this.tileType&&(o.indexOf(l.tileInfo.format.toLowerCase())>-1?this.tileType=\"Map\":\"lerc\"===l.tileInfo.format.toLowerCase()?this.tileType=\"Elevation\":this.tileType=\"Raster\"),!l)throw new a(\"imageserverraster:open\",\"cannot initialize tiled image service, missing service info\");if(!l.tileInfo)throw new a(\"imageserverraster:open\",\"use ImageryLayer to open non-tiled image services\");this.datasetName=l.name.slice(l.name.indexOf(\"/\")+1);const n=await this._fetchRasterInfo({signal:i});if(!t(n))throw new a(\"image-server-raster:open\",\"cannot initialize image service\");{const e=\"Map\"===this.tileType?u(l.tileInfo,l):c.fromJSON(l.tileInfo),{extent:t,pixelSize:i}=n,s=.5/n.width*i.x;let a,r;const o=e.lodAt(Math.max.apply(null,e.lods.map((e=>e.level))));\"Map\"!==this.tileType&&0!==l.maxScale&&(\"Raster\"===this.tileType?(a=e.lods.filter((e=>e.resolution===i.x))[0],a||(a=e.lods[e.lods.length-1])):(a=e.lods.filter((e=>Math.abs(e.scale-l.maxScale)<s))[0],a||(a=e.lods.filter((e=>e.scale>l.maxScale)).sort(((e,t)=>e.scale>t.scale?1:-1))[0])),i.x=i.y=a.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1)),a||(a=o);const m=e.lodAt(Math.min.apply(null,e.lods.map((e=>e.level))));\"Map\"===this.tileType?this._levelOffset=e.lods[0].level:0!==l.minScale&&\"Elevation\"===this.tileType&&(r=e.lods.filter((e=>Math.abs(e.scale-l.minScale)<s))[0],this._levelOffset=r.level-m.level),r||(r=m);const h=Math.max(i.x,i.y);(Math.abs(i.x-i.y)>s||!e.lods.some((e=>Math.abs(e.resolution-h)<s)))&&(i.x=i.y=a.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1));const p=a.level-r.level,[f,d]=e.size,x=e.origin;let{x:g,y:v}=i;const w=[{minCol:Math.floor((t.xmin-x.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-x.x-.1*g)/f/g),minRow:Math.floor((x.y-t.ymax+.1*v)/d/v),maxRow:Math.floor((x.y-t.ymin-.1*v)/d/v)}];if(p>0)for(let e=0;e<p;e++)g*=2,v*=2,w.push({minCol:Math.floor((t.xmin-x.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-x.x-.1*g)/f/g),minRow:Math.floor((x.y-t.ymax+.1*v)/d/g),maxRow:Math.floor((x.y-t.ymin-.1*v)/d/g)});n.storageInfo=new y({blockWidth:e.size[0],blockHeight:e.size[1],pyramidBlockWidth:e.size[0],pyramidBlockHeight:e.size[1],compression:e.format,origin:e.origin,firstPyramidLevel:1,maximumPyramidLevel:p,tileInfo:e,blockBoundary:w}),this._set(\"rasterInfo\",n)}if(l.capabilities.toLowerCase().indexOf(\"tilemap\")>-1){const e={tileInfo:n.storageInfo.tileInfo,parsedUrl:r(this.url),url:this.url,tileServers:[],type:\"tile\"};this._tilemapCache=new p({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:a,extent:r,pixelSize:l}=this.rasterInfo,o=a.maximumPyramidLevel-e+this._levelOffset,n=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?{sliceId:s.sliceId||0}:null,{data:h}=await this.request(n,{query:m,responseType:\"array-buffer\",signal:s.signal});if(!h)return null;const c=await this.decodePixelBlock(h,{width:a.tileInfo.size[0],height:a.tileInfo.size[1],planes:null,pixelType:null,isPoint:\"Elevation\"===this.tileType}),u=a.blockBoundary[e];if(\"jpg\"!==a.compression||i>u.minCol&&i<u.maxCol&&t>u.minRow&&t<u.maxRow)return c;const{origin:p,blockWidth:f,blockHeight:y}=a,x=Math.pow(2,e),g=Math.round((r.xmin-p.x)/(l.x*x))%f,v=Math.round((r.xmax-p.x)/(l.x*x))%f,w=Math.round((p.y-r.ymax)/(l.x*x))%y,j=Math.round((p.y-r.ymin)/(l.x*x))%y,S=i===u.minCol?g:0,b=t===u.minRow?w:0,M=i===u.maxCol?v:f,I=t===u.maxRow?j:y;return d(c,{x:S,y:b},{width:M-S,height:I-b}),c}getSliceIndex(e){if(null==e||!e.length||!this._slices)return null;const t=e;for(let e=0;e<this._slices.length;e++){const i=this._slices[e].multidimensionalDefinition;if(i.length===t.length&&!i.some((e=>{const i=t.filter((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName))[0];if(!i)return!0;return(Array.isArray(e.values[0])?e.values[0][0]:e.values[0])!==(Array.isArray(i.values[0])?i.values[0][0]:i.values[0])})))return e}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+\"/statistics\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.statistics})),s=this.request(this.url+\"/histograms\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),a=await l([i,s]);return a[0]&&a[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:a[0]||null,histograms:a[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:a}=this.rasterInfo.storageInfo;let r=a-s+this._levelOffset;const l=i.srcLocation;for(;r>=0;){try{if(\"available\"===await this._tilemapCache.fetchAvailability(r,i.row,i.col,t))break}catch{}if(r--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===r||null==i?null:s}async _fetchRasterInfo(e){const t=this.sourceJSON,i=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),s=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),a=o.fromJSON(t.spatialReference||t.extent.spatialReference);if(\"Map\"===this.tileType)return new f({width:i,height:s,bandCount:3,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:\"u8\",statistics:null,keyProperties:{DataType:\"processed\"}});const{slice:r,signal:c}=e,u=!!t.hasRasterAttributeTable&&this.request(this.url+\"/rasterAttributeTable\",{query:{slice:r,f:\"json\"},signal:c}).then((e=>h.fromJSON(e.data))).catch((()=>null)),p=!!t.hasColormap&&this.request(this.url+\"/colormap\",{query:{slice:r,f:\"json\"},signal:c}).then((e=>{var t;return null==(t=e.data)?void 0:t.colormap})),d=!!t.hasHistograms&&this.request(this.url+\"/histograms\",{query:{slice:r,f:\"json\"},signal:c}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),y=this.request(this.url+\"/keyProperties\",{query:{f:\"json\"},signal:c}).then((e=>e.data)).catch((()=>{})),x=!!t.hasMultidimensions&&this._fetchMultidimensionalInfo(),g=!!t.hasMultidimensions&&this.request(this.url+\"/slices\",{query:{f:\"json\"},signal:c}).then((e=>e.data&&e.data.slices)).catch((()=>{}));return l([u,p,d,y,x,g]).then((e=>{let r=null;if(t.minValues&&t.minValues.length===t.bandCount){r=[];for(let e=0;e<t.minValues.length;e++)r.push({min:t.minValues[e],max:t.maxValues[e],avg:t.meanValues[e],stddev:t.stdvValues[e]})}return this._slices=e[5]||null,new f({width:i,height:s,bandCount:t.bandCount,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:t.pixelType.toLowerCase(),statistics:r,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}async _fetchMultidimensionalInfo(e){var t;const i=await this.request(this.url+\"/multidimensionalInfo\",{query:{f:\"json\"},signal:e}).then((e=>{var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));return null!=(t=i.variables)&&t.length&&i.variables.forEach((e=>{var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))})),i}};e([i({type:String,json:{write:!0}})],g.prototype,\"datasetFormat\",void 0),e([i()],g.prototype,\"tileType\",void 0),g=e([s(\"esri.layers.support.rasterDatasets.ImageServerRaster\")],g);var v=g;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as e,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{all as a}from\"../../../core/promiseUtils.js\";import n from\"../../../geometry/SpatialReference.js\";import l from\"../../../geometry/Point.js\";import p from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import c from\"../PixelBlock.js\";import f from\"../RasterInfo.js\";import{isPlatformLittleEndian as m}from\"../rasterFormats/utils.js\";import{estimateStatisticsFromHistograms as h}from\"../rasterFunctions/pixelUtils.js\";import u from\"../RasterStorageInfo.js\";import g from\"./BaseRaster.js\";import{getElement as d,getElementValue as y}from\"./xmlUtilities.js\";import{parsePAMInfo as x}from\"./pamParser.js\";const w=new Map;w.set(\"Int8\",\"s8\"),w.set(\"UInt8\",\"u8\"),w.set(\"Int16\",\"s16\"),w.set(\"UInt16\",\"u16\"),w.set(\"Int32\",\"s32\"),w.set(\"UInt32\",\"u32\"),w.set(\"Float32\",\"f32\"),w.set(\"Float64\",\"f32\"),w.set(\"Double64\",\"f32\");const I=new Map;I.set(\"lerc\",\".lrc\"),I.set(\"none\",\".til\"),I.set(\"deflate\",\".pzp\"),I.set(\"jpeg\",\".jzp\");let b=class extends g{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat=\"MRF\"}async open(t){var s;await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const o=t?e(t.signal):null,i=await this.request(this.url,{responseType:\"xml\",signal:o}),{rasterInfo:a,files:n}=this._parseHeader(i.data);if(-1===(null==(s=this.ioConfig.skipExtensions)?void 0:s.indexOf(\"aux.xml\"))){const e=await this._fetchAuxiliaryData(t);var l;if(null!=e)a.statistics=null!=(l=e.statistics)?l:a.statistics,a.histograms=e.histograms,e.histograms&&!r(a.statistics)&&(a.statistics=h(e.histograms))}this._set(\"rasterInfo\",a),this._files=n;const p=await this.request(n.index,{responseType:\"array-buffer\",signal:o});this._storageIndex=this._parseIndex(p.data);let c,f,m=0,u=-1;const{blockWidth:g,blockHeight:d,compression:y}=this.rasterInfo.storageInfo,x=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:w,height:I,bandCount:b}=this.rasterInfo,M=[],j=\"none\"===y?1:b;for(;m<this._storageIndex.length;)u++,c=Math.ceil(w/g/Math.pow(x,u)),f=Math.ceil(I/d/Math.pow(x,u)),m+=c*f*j*4,M.push({maxRow:f,maxCol:c,minCol:0,minRow:0});this.rasterInfo.storageInfo.blockBoundary=M,u>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=u),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:i,blockBoundary:n,compression:l}=this.rasterInfo.storageInfo,p=n[t];if(!p||p.maxRow<e||p.maxCol<r||p.minRow>e||p.minCol>r)return null;const{bandCount:f,pixelType:m}=this.rasterInfo,{ranges:h,actualTileWidth:u,actualTileHeight:g}=this._getTileLocation(t,e,r);if(!h||0===h.length)return null;if(0===h[0].from&&0===h[0].to){const t=new Uint8Array(o*i);return new c({width:o,height:i,pixels:null,mask:t,validPixelCount:0})}const{bandIds:d}=this.ioConfig,y=\"none\"===l?1:f,x=[];let w=0;for(w=0;w<y;w++)(!d||d.indexOf[w]>-1)&&x.push(this.request(this._files.data,{range:{from:h[w].from,to:h[w].to},responseType:\"array-buffer\",signal:s.signal}));const I=await a(x),b=I.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),M=new Uint8Array(b);let j=0;for(w=0;w<y;w++)M.set(new Uint8Array(I[w].data),j),j+=I[w].data.byteLength;const A=\"lerc\"===this.rasterInfo.storageInfo.compression?\"lerc\":\"bip\",R=await this.decodePixelBlock(M.buffer,{width:o,height:i,format:A,pixelType:m});let _=0,F=0;if(u!==o||g!==i){let t=R.mask;if(t)for(w=0;w<i;w++)if(F=w*o,w<g)for(_=u;_<o;_++)t[F+_]=0;else for(_=0;_<o;_++)t[F+_]=0;else for(t=new Uint8Array(o*i),R.mask=t,w=0;w<g;w++)for(F=w*o,_=0;_<u;_++)t[F+_]=1}return R}_parseIndex(t){if(t.byteLength%16>0)throw\"invalid array buffer must be multiples of 16\";let e,r,s,o,i,a;if(m){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i,compression:a}=this.rasterInfo.storageInfo,{width:n,height:l,bandCount:p}=this.rasterInfo,c=\"none\"===a?1:p;let f,m,h,u=0,g=0;for(h=0;h<t;h++)g=Math.pow(i,h),f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=f*m;g=Math.pow(i,t),f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=e*f+r,u*=4*c;const d=this._storageIndex.subarray(u,u+4*c);let y=0,x=0;const w=[];for(let t=0;t<c;t++)y=d[4*t+0]*Math.pow(2,32)+d[4*t+1],x=y+d[4*t+2]*Math.pow(2,32)+d[4*t+3],w.push({from:y,to:x});return{ranges:w,actualTileWidth:r<f-1?s:Math.ceil(n/g)-s*(f-1),actualTileHeight:e<m-1?o:Math.ceil(l/g)-o*(m-1)}}_parseHeader(t){const e=d(t,\"MRF_META/Raster\");if(!e)throw new i(\"mrf:open\",\"not a valid MRF format\");const r=d(e,\"Size\"),s=parseInt(r.getAttribute(\"x\"),10),o=parseInt(r.getAttribute(\"y\"),10),a=parseInt(r.getAttribute(\"c\"),10),c=(y(e,\"Compression\")||\"none\").toLowerCase();if(!c||-1===[\"none\",\"lerc\"].indexOf(c))throw new i(\"mrf:open\",\"currently does not support compression \"+c);const m=y(e,\"DataType\")||\"UInt8\",h=w.get(m);if(null==h)throw new i(\"mrf:open\",\"currently does not support pixel type \"+m);const g=d(e,\"PageSize\"),x=parseInt(g.getAttribute(\"x\"),10),b=parseInt(g.getAttribute(\"y\"),10),M=d(e,\"DataValues\");let j,A;M&&(A=M.getAttribute(\"NoData\"),null!=A&&(j=A.trim().split(\" \").map((t=>parseFloat(t)))));if(d(t,\"MRF_META/CachedSource\"))throw new i(\"mrf:open\",\"currently does not support MRF referencing other data files\");const R=d(t,\"MRF_META/GeoTags\"),_=d(R,\"BoundingBox\");if(null==_)throw new i(\"mrf:open\",\"missing node MRF_META/GeoTags/BoundingBox\");const F=parseFloat(_.getAttribute(\"minx\")),T=parseFloat(_.getAttribute(\"miny\")),k=parseFloat(_.getAttribute(\"maxx\")),C=parseFloat(_.getAttribute(\"maxy\")),U=y(R,\"Projection\"),S=y(t,\"datafile\"),v=y(t,\"IndexFile\");let L;\"LOCAL_CS[]\"!==U&&(L=new n({wkt:U}));const B=new p(F,T,k,C);B.spatialReference=L;const E=d(t,\"MRF_META/Rsets\"),H=parseInt(E&&E.getAttribute(\"scale\")||\"2\",10),P=new u({origin:new l({x:B.xmin,y:B.ymax,spatialReference:L}),blockWidth:x,blockHeight:b,pyramidBlockWidth:x,pyramidBlockHeight:b,compression:c,pyramidScalingFactor:H}),D=new l({x:(k-F)/s,y:(C-T)/o,spatialReference:L});return{rasterInfo:new f({width:s,height:o,extent:B,spatialReference:L,bandCount:a,pixelType:h,pixelSize:D,noDataValue:j,storageInfo:P}),files:{mrf:this.url,index:v||this.url.replace(\".mrf\",\".idx\"),data:S||this.url.replace(\".mrf\",I.get(c))}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==t?void 0:t.signal});return x(e)}catch{return null}}};t([s()],b.prototype,\"_files\",void 0),t([s()],b.prototype,\"_storageIndex\",void 0),t([s({type:String,json:{write:!0}})],b.prototype,\"datasetFormat\",void 0),b=t([o(\"esri.layers.support.rasterIO.MRFRaster\")],b);var M=b;export default M;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as e,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../geometry/Point.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../RasterInfo.js\";import l from\"../rasterFormats/TiffTags.js\";import{parseSignature as u,getImageInfo as p,parseIFD as h,parseFieldValues as m}from\"../rasterFormats/TiffDecoder.js\";import{estimateStatisticsFromHistograms as c}from\"../rasterFunctions/pixelUtils.js\";import d from\"../RasterStorageInfo.js\";import y from\"./BaseRaster.js\";import{parsePAMInfo as g}from\"./pamParser.js\";const I=function(t,e){const r=t.get(e);return r&&r.values},T=function(t,e){const r=t.get(e);return r&&r.values[0]};let x=class extends y{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat=\"TIFF\"}async open(t){var i;await this.init();const s=t?e(t.signal):null,{data:l}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:\"array-buffer\",signal:s});if(!l)throw new a(\"tiffraster:open\",\"failed to open url \"+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{littleEndian:h,firstIFD:m,isBigTiff:y}=u(l),g=[];await this.readIFDs(g,l,h,m,0,y?8:4,s);const I=p(g),{width:T,height:x,tileWidth:w,tileHeight:F,planes:E,pixelType:S,compression:b,firstPyramidLevel:_,maximumPyramidLevel:v,pyramidBlockWidth:j,pyramidBlockHeight:B,tileBoundary:k,metadata:D}=I,L=n.fromJSON(I.extent),R=L.spatialReference,O=new o(L?{x:L.xmin,y:L.ymax,spatialReference:R}:{x:0,y:0}),z=new d({blockWidth:w,blockHeight:F,pyramidBlockWidth:j,pyramidBlockHeight:B,compression:b,origin:O,firstPyramidLevel:_,maximumPyramidLevel:v,blockBoundary:k}),H=new o({x:(L.xmax-L.xmin)/T,y:(L.ymax-L.ymin)/x,spatialReference:R}),G=D?{BandProperties:D.bandProperties,DataType:D.dataType}:{},P=new f({width:T,height:x,bandCount:E,pixelType:S,compression:b,pixelSize:H,storageInfo:z,spatialReference:R,keyProperties:G,extent:L,statistics:D?D.statistics:null});if(-1===(null==(i=this.ioConfig.skipExtensions)?void 0:i.indexOf(\"aux.xml\"))){const e=await this._fetchAuxiliaryData(t);var q;if(null!=e)P.statistics=null!=(q=e.statistics)?q:P.statistics,P.histograms=e.histograms,e.histograms&&!r(P.statistics)&&(P.statistics=c(e.histograms))}if(this._set(\"rasterInfo\",P),this._headerInfo={littleEndian:h,isBigTiff:y,ifds:g,...I},!this._headerInfo.isSupported)throw new a(\"tiffraster:open\",\"this tiff is not supported: \"+this._headerInfo.message);this.updateTileInfo()}async fetchRawTile(t,e,r,i={}){if(!this._headerInfo&&this._headerInfo.isSupported)return null;const{blockBoundary:s}=this.rasterInfo.storageInfo,a=t>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,o=t>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight,n=s[t];if(!n||n.maxRow<e||n.maxCol<r||n.minRow>e||n.minCol>r)return null;const f=this.getTileLocation(t,e,r);if(!f)return null;const{range:l,actualTileWidth:u,actualTileHeight:p,ifd:h}=f,{data:m}=await this.request(this.url,{range:l,responseType:\"array-buffer\",signal:i.signal}),c=await this.decodePixelBlock(m,{format:\"tiff\",customOptions:{headerInfo:this._headerInfo,ifd:h,offset:0,size:0},width:a,height:o,planes:null,pixelType:null});let d,y,g;if(u!==a||p!==o){let t=c.mask;if(t)for(d=0;d<o;d++)if(g=d*a,d<p)for(y=u;y<a;y++)t[g+y]=0;else for(y=0;y<a;y++)t[g+y]=0;else for(t=new Uint8Array(a*o),c.mask=t,d=0;d<p;d++)for(g=d*a,y=0;y<u;y++)t[g+y]=1}return c}async readIFDs(t,e,r,i,s,a=4,o){if(!i)return null;if(i>=e.byteLength||i<0){e=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:\"array-buffer\",signal:o})).data,s=i+s,i=0}const n=await this.readIFD(e,r,i,s,l.TIFF_TAGS,a,o);if(t.push(n.ifd),!n.nextIFD)return null;await this.readIFDs(t,e,r,n.nextIFD-s,s,a,o)}async readIFD(t,e,r,i,s=l.TIFF_TAGS,a=4,o){if(!t)return null;const n=h(t,e,r,i,s,a);if(n.success){const r=[];if(n.ifd.forEach((t=>{t.values||r.push(t)})),r.length>0){const s=r.map((t=>t.offlineOffsetSize)),a=Math.min.apply(null,s.map((t=>t[0])));if(Math.min.apply(null,s.map((t=>t[0]+t[1])))-a<=this._bufferSize){const{data:s}=await this.request(this.url,{range:{from:a,to:a+this._bufferSize},responseType:\"array-buffer\",signal:o});t=s,i=a,r.forEach((r=>m(t,e,r,i)))}}if(n.ifd.has(\"GEOKEYDIRECTORY\")){const r=n.ifd.get(\"GEOKEYDIRECTORY\"),s=r.values;if(s&&s.length>4){const a=s[0]+\".\"+s[1]+\".\"+s[2],n=await this.readIFD(t,e,r.valueOffset+6-i,i,l.GEO_KEYS,2,o);r.data=n.ifd,r.data&&r.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return n}if(n.requiredBufferSize&&n.requiredBufferSize!==t.byteLength){const r=await this.request(this.url,{range:{from:i,to:i+n.requiredBufferSize+4},responseType:\"array-buffer\",signal:o});return(t=r.data).byteLength<n.requiredBufferSize?null:this.readIFD(t,e,0,i,l.TIFF_TAGS,4,o)}}getTileLocation(t,e,r){const{firstPyramidLevel:i,blockBoundary:s}=this.rasterInfo.storageInfo,a=0===t?0:t-(i-1),o=this._headerInfo.ifds[a];if(!o)return null;const n=I(o,\"TILEOFFSETS\");if(void 0===n)return null;const f=I(o,\"TILEBYTECOUNTS\"),{minRow:l,minCol:u,maxRow:p,maxCol:h}=s[a];if(e>p||r>h||e<l||r<u)return null;const m=T(o,\"IMAGEWIDTH\"),c=T(o,\"IMAGELENGTH\"),d=T(o,\"TILEWIDTH\"),y=T(o,\"TILELENGTH\"),g=e*(h+1)+r,x=n[g],w=f[g];if(null==x||null==w)return null;return{range:{from:x,to:x+w-1},ifd:o,actualTileWidth:r===h?m%d:d,actualTileHeight:e===p?c%y:y}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==t?void 0:t.signal});return g(e)}catch{return null}}};t([i()],x.prototype,\"_files\",void 0),t([i()],x.prototype,\"_headerInfo\",void 0),t([i()],x.prototype,\"_bufferSize\",void 0),t([i({type:String,json:{write:!0}})],x.prototype,\"datasetFormat\",void 0),x=t([s(\"esri.layers.support.rasterDatasets.TIFFRaster\")],x);var w=x;export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import r from\"./CloudRaster.js\";import e from\"./ImageAuxRaster.js\";import s from\"./ImageServerRaster.js\";import o from\"./MRFRaster.js\";import a from\"./TIFFRaster.js\";const c=new Map;c.set(\"CRF\",{desc:\"Cloud Raster Format\",constructor:r}),c.set(\"MRF\",{desc:\"Meta Raster Format\",constructor:o}),c.set(\"TIFF\",{desc:\"GeoTIFF\",constructor:a}),c.set(\"RasterTileServer\",{desc:\"Raster Tile Server\",constructor:s}),c.set(\"JPG\",{desc:\"JPG Raster Format\",constructor:e}),c.set(\"PNG\",{desc:\"PNG Raster Format\",constructor:e}),c.set(\"GIF\",{desc:\"GIF Raster Format\",constructor:e}),c.set(\"BMP\",{desc:\"BMP Raster Format\",constructor:e});export default class{static get supportedFormats(){const t=new Set;return c.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,sourceJSON:o}=r;let a=r.datasetFormat;null==a&&e.lastIndexOf(\".\")&&(a=e.slice(e.lastIndexOf(\".\")+1).toUpperCase()),\"OVR\"===a||\"TIF\"===a?a=\"TIFF\":\"JPG\"!==a&&\"JPEG\"!==a&&\"JFIF\"!==a||(a=\"JPG\"),e.toLowerCase().indexOf(\"/imageserver\")>-1&&-1===e.toLowerCase().indexOf(\"/wcsserver\")&&(a=\"RasterTileServer\");const n={url:e,sourceJSON:o,datasetFormat:a,ioConfig:s||{bandIds:null,sampling:null}};let i,u;if(this.supportedFormats.has(a))return i=c.get(a).constructor,u=new i(n),await u.open({signal:r.signal}),u;if(a)throw new t(\"rasterfactory:open\",\"not a supported format \"+a);const l=Array.from(c.keys());let m=0;const F=function(){return a=l[m++],a?(i=c.get(a).constructor,u=new i(n),u.open({signal:r.signal}).then((()=>u)).catch((()=>F()))):null};return F()}static register(t,r,e){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:r,constructor:e})}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{Integer as t}from\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{strict as i}from\"../core/jsonMap.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as a}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as l}from\"../core/promiseUtils.js\";import d from\"../PopupTemplate.js\";import u from\"./Layer.js\";import{MultiOriginJSONMixin as m}from\"../core/MultiOriginJSONSupport.js\";import{legendEnabled as c}from\"./support/commonProperties.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{read as h,rasterRendererTypes as f,websceneRasterRendererTypes as g}from\"../rasterRenderers.js\";import j from\"./support/Field.js\";import{BlendLayer as v}from\"./mixins/BlendLayer.js\";import{PortalLayer as S}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as b}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as w}from\"./mixins/ScaleRangeLayer.js\";import{createPopupTemplate as P}from\"../support/popupUtils.js\";import{ImageryTileMixin as T}from\"./mixins/ImageryTileMixin.js\";import R from\"./support/rasterDatasets/RasterFactory.js\";const I=i()({RSP_NearestNeighbor:\"nearest\",RSP_BilinearInterpolation:\"bilinear\",RSP_CubicConvolution:\"cubic\",RSP_Majority:\"majority\"});function O(){return{enabled:!this.loaded||\"RasterTileServer\"===this.raster.datasetFormat&&\"Raster\"===this.raster.tileType}}let x=class extends(v(w(b(y(S(T(m(u)))))))){constructor(...e){super(...e),this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.title=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).then((()=>this._openRaster(t)),(()=>this._openRaster(t)))),l(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get fields(){var e,r;let t=[new j({name:\"Raster.ServicePixelValue\",alias:\"Pixel Value\",domain:null,editable:!1,length:50,type:\"string\"})];const o=null==(e=this.rasterInfo)||null==(r=e.attributeTable)?void 0:r.fields;if(o){const e=o.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=\"Raster.\"+e.name,r}));t=t.concat(e)}return t}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}readRenderer(e,r,t){const o=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,i=h(o,t)||void 0;if(null!=i)return i}createPopupTemplate(e){return P(this,e)}write(e,r){const{raster:t}=this;if(this.loaded?\"RasterTileServer\"===t.datasetFormat&&(\"Raster\"===t.tileType||\"Map\"===t.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`;r.messages.push(new p(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){this.raster?(this.raster.rasterInfo||await this.raster.open(),this.url=this.raster.url):this.raster=await R.open({url:this.url,sourceJSON:this.sourceJSON,ioConfig:this.ioConfig,signal:e});const{rasterInfo:r}=this.raster;if(!r)throw new p(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON&&(this._set(\"version\",this.sourceJSON.currentVersion),this._set(\"copyright\",this.sourceJSON.copyrightText)),null==this.title&&(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings()}};e([o()],x.prototype,\"ioConfig\",void 0),e([o({type:[t],json:{write:{overridePolicy:O}}})],x.prototype,\"bandIds\",void 0),e([o({json:{write:{overridePolicy:O}}}),s(I)],x.prototype,\"interpolation\",void 0),e([o({json:{write:!0}})],x.prototype,\"multidimensionalDefinition\",void 0),e([o(c)],x.prototype,\"legendEnabled\",void 0),e([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],x.prototype,\"isReference\",void 0),e([o({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),e([o()],x.prototype,\"sourceJSON\",void 0),e([o({readOnly:!0})],x.prototype,\"version\",void 0),e([o()],x.prototype,\"title\",void 0),e([o({readOnly:!0,json:{read:!1}})],x.prototype,\"type\",void 0),e([o({type:[\"ArcGISTiledImageServiceLayer\"]})],x.prototype,\"operationalLayerType\",void 0),e([o({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:O,writer(e,r,t){r[t]=!e}}}})],x.prototype,\"popupEnabled\",void 0),e([o({type:d,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:O}}})],x.prototype,\"popupTemplate\",void 0),e([o({readOnly:!0,dependsOn:[\"title\"]})],x.prototype,\"defaultPopupTemplate\",null),e([o({readOnly:!0,type:[j],dependsOn:[\"rasterInfo\"]})],x.prototype,\"fields\",null),e([o({types:f,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:O},origins:{\"web-scene\":{types:g,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type})}}}}})],x.prototype,\"renderer\",null),e([a(\"renderer\")],x.prototype,\"readRenderer\",null),x=e([n(\"esri.layers.ImageryTileLayer\")],x);var L=x;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{getInfo as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{project as t}from\"../../../geometry/support/webMercatorUtils.js\";import o from\"../../../geometry/Point.js\";import i from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{isLoaded as a,isSupported as s,load as l,project as c}from\"../../../geometry/projection.js\";const x=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},m=32;async function u(){if(a()||!s())return null;await l()}function p(n,o,r,s=null){if(n.spatialReference.equals(o))return n;const l=x(n.spatialReference,o);if(l&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=r.center,u=new i({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=l?c(u,o,s):t(u,o);if(null==p)return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function f(e,n=.01){return r(e)?n/r(e):0}function h(o,i,r=null,s=!0){const l=o.spatialReference;if(l.equals(i))return o;const m=x(l,i);if(m&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const u=m?c(o,i,r):t(o,i);if(u&&s&&i.isGeographic){var p,h;const[e,t]=l.isWebMercator?n(l).origin:null!=(p=null==(h=n(l))?void 0:h.valid)?p:[],i=f(l);i&&null!=e&&null!=t&&(Math.abs(o.x-e)<i&&Math.abs(180-u.x)<5e-4?u.x-=360:Math.abs(o.x-t)<i&&Math.abs(180+u.x)<5e-4&&(u.x+=360))}return u}function y(i,r,s=null,l=!0){var m,u,p,y;const M=i.spatialReference;if(M.equals(r))return i;const w=x(M,r);if(w&&!a())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const d=w?c(i,r,s):t(i,r);let[g,j]=null!=(m=null==(u=n(M))?void 0:u.origin)?m:[];if(d&&l&&M.isWebMercator&&r.isGeographic&&null!=g&&null!=j){const e=.001,n=1e3;if(Math.abs(i.xmin-g)<e&&Math.abs(j-i.xmax)>n&&Math.abs(180-d.xmax)<5e-4){d.xmin=-180;const e=[];e.push(new o(i.xmax,i.ymin,M)),e.push(new o(i.xmax,(i.ymin+i.ymax)/2,M)),e.push(new o(i.xmax,i.ymax,M));const n=e.map((e=>h(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));d.xmax=Math.max.apply(null,n)}if(Math.abs(i.xmax-j)<e&&Math.abs(g-i.xmin)>n&&Math.abs(180+d.xmin)<5e-4){d.xmax=180;const e=[];e.push(new o(i.xmin,i.ymin,M)),e.push(new o(i.xmin,(i.ymin+i.ymax)/2,M)),e.push(new o(i.xmin,i.ymax,M));const n=e.map((e=>h(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));d.xmin=Math.min.apply(null,n)}}[g,j]=r.isWebMercator?n(r).origin:null!=(p=null==(y=n(r))?void 0:y.valid)?p:[];const R=f(r);return R&&null!=g&&null!=j&&(Math.abs(d.xmin-g)<R&&(d.xmin=g),Math.abs(d.xmax-j)<R&&(d.xmax=j)),d}function M(t,i,r,s=null,l=null,c=!1,m=[32,32]){var u,p;if(x(t.spatialReference,i.spatialReference)&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&i&&r))return null;const{xmin:f,ymin:y,xmax:M,ymax:w}=t,d=t.spatialReference,g=i.spatialReference,[j,R]=null!=(u=null==(p=n(d))?void 0:p.valid)?u:[],b={x:m[0]*r.x,y:m[1]*r.y},v={cols:Math.ceil((M-f)/b.x-.1)+1,rows:Math.ceil((w-y)/b.y-.1)+1},N=b.x,S=b.y,z=[];let W,G=!1;for(let e=0;e<v.cols;e++){const n=[];for(let t=0;t<v.rows;t++){let r=h(new o({x:f+N*e,y:w-S*t,spatialReference:d}),g,s);l&&(r=l.inverseTransform(r)),n.push(r),e>0&&c&&r&&W[t]&&null!=j&&r.x<W[t].x&&(r.x+=R-j),r?(z.push((r.x-i.xmin)/(i.xmax-i.xmin)),z.push((i.ymax-r.y)/(i.ymax-i.ymin))):(z.push(NaN),z.push(NaN),G=!0)}W=n}const P=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]}(z,v),L=new Float32Array((v.cols-1)*(v.rows-1)*2*6),q=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),A=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<v.cols-1;e++){for(let n=0;n<v.rows-1;n++){let t=e*v.rows*2+2*n;const o=z[t],i=z[t+1],r=z[t+2],a=z[t+3];t+=2*v.rows;const s=z[t],l=z[t+1],c=z[t+2],x=z[t+3];let m=0,u=12*(n*(v.cols-1)+e);for(let e=0;e<3;e++)L[u++]=q[m++]*o+q[m++]*r+q[m++]*c;m=0;for(let e=0;e<3;e++)L[u++]=q[m++]*i+q[m++]*a+q[m++]*x;m=0;for(let e=0;e<3;e++)L[u++]=A[m++]*o+A[m++]*s+A[m++]*c;m=0;for(let e=0;e<3;e++)L[u++]=A[m++]*i+A[m++]*l+A[m++]*x}if(G)for(let e=0;e<L.length;e++)isNaN(L[e])&&(L[e]=-1)}return{offsets:z,error:P,coefficients:L,spacing:m,size:[v.cols-1,v.rows-1]}}function w(e,n,t){const i=Math.log(e.x/n.pixelSize.x)/Math.LN2,r=Math.log(e.y/n.pixelSize.y)/Math.LN2,a=n.storageInfo.maximumPyramidLevel||0;let s=\"down\"===t?Math.floor(Math.min(i,r)):\"up\"===t?Math.ceil(Math.max(i,r)):Math.round((i+r)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);const c=Math.pow(2,s);return{pyramidLevel:s,pyramidResolution:new o({x:c*n.nativePixelSize.x,y:c*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:l}}function d(e,n,t=512,i=!0){const{extent:a,spatialReference:s,pixelSize:l}=e,c=p(new o({x:l.x,y:l.y,spatialReference:s}),n,a);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null};const x=(c.x+c.y)/2,m=r(n),u=x*m*96*39.37,f=n.isGeographic?512/t*295828763.7958547:512/t*591657527.591555;let h=!1;if(i&&(n.isGeographic||n.isWebMercator)){const e=y(a,n);h=e.xmin*e.xmax<0}let M,w=u;const d=1.001;if(h){w=f;const e=w/(96*m*39.37);M=p(new o({x:e,y:e,spatialReference:n}),s,a)}else{M={x:l.x,y:l.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;w<.5005*f&&t<n;)t++,w*=2,M.x*=2,M.y*=2;Math.max(w,f)/Math.min(w,f)<=d&&(w=f)}const g=[],j=[],R=Math.min(70.5310735,u)/d;for(;w>=R;)g.push(w),j.push({x:M.x,y:M.y}),w/=2,M.x/=2,M.y/=2;return{projectedPixelSize:c,scales:g,srcResolutions:j}}export{d as computeProjectedScales,m as defaultGridSpacing,M as getProjectionOffsetGrid,u as load,y as projectExtent,h as projectPoint,p as projectResolution,w as snapPyramid};\n"],"sourceRoot":""}