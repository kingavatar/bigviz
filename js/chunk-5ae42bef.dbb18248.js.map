{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","webpack:///./node_modules/@arcgis/core/core/number.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js"],"names":["minX","minY","maxX","maxY","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","s","_loadIndex","Array","size","i","forEach","d","n","clear","load","length","filter","has","get","delete","remove","search","set","push","getObjectId","t","objectId","getAttributes","attributes","getAttribute","e","cloneWithGeometry","r","getGeometry","geometry","getCentroid","o","centroid","hasZ","hasM","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","geometryType","numFeatures","Math","min","max","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","forEachInBounds","emit","getLogger","error","feature","add","displayId","onFeatureAdd","onFeatureRemove","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","mk","nb","nl","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","split","decimal","group","pattern","locale","customs","isNaN","abs","l","indexOf","Error","c","a","match","fractional","places","replace","substring","round","Number","toFixed","String","lastIndexOf","padEnd","substr","pop","padStart","p","u","f","slice","reverse","join","regexp","signed","separator","strict","exponent","groupSize","groupSize2","test","eSigned","factor","RegExp","exec","NaN","trim","includes","value","x","done","g","next","h","w","S","C","y","V","isInteger","isFinite","floor","_fieldsIndex","_queryEngine","destroy","_fetch","url","_checkProjection","parsing","spatialReference","_parse","_createQueryEngine","layerDefinition","extent","fullExtent","timeInfo","start","end","timeExtent","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","path","query","responseType","data","columnDelimiter","locationInfo","latitudeFieldName","latitudeField","longitudeFieldName","longitudeField","csv","name","drawingInfo","objectIdField","fields","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","wkid","_inferLocationInfo","_inferFields","toLowerCase","some","type","alias","editable","nullable","unshift","startTimeField","endTimeField","trackIdField","find","map","_inferFieldType","Date","_isValidDate","reduce","Object","prototype","toString","call","getTime","I","b","j","E","D","_parseCoordinateValue","WGS84","q","v","cacheSpatialQueries","featureStore","k","addMany","parseFloat"],"mappings":"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","file":"js/chunk-5ae42bef.dbb18248.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/has.js\";import{r as i}from\"../../../chunks/rbush.js\";const d={minX:0,minY:0,maxX:0,maxY:0};class n{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,s(\"csp-restrictions\")?s=>({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const s=new Array(this._idByBounds.size);let i=0;this._idByBounds.forEach(((d,n)=>{s[i++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(s)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((s=>this._idByBounds.has(s)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(s){const i=this._boundsById.get(s);this._boundsById.delete(s),i&&(this._idByBounds.delete(i),this._indexInvalid||this._index.remove(i))}forEachInBounds(s,i){this._loadIndex();for(const n of function(s,i){return d.minX=i[0],d.minY=i[1],d.maxX=i[2],d.maxY=i[3],s.search(d)}(this._index,s))i(this._idByBounds.get(n))}get(s){return this._boundsById.get(s)}has(s){return this._boundsById.has(s)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(s,i){if(!this._indexInvalid){const i=this._boundsById.get(s);i&&(this._index.remove(i),this._idByBounds.delete(i))}this._boundsById.set(s,i),i&&(this._idByBounds.set(i,s),this._indexInvalid||(this._boundsToLoad.push(i),this._boundsToLoad.length>5e4&&this._loadIndex()))}}export{n as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../OptimizedFeature.js\";import e from\"../OptimizedGeometry.js\";import{getCentroidOptimizedGeometry as r}from\"../centroid.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=r(new e,t.geometry,o.hasZ,o.hasM)),t.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../core/Evented.js\";import{create as o,NEGATIVE_INFINITY as i}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{fromRect as d}from\"../../../geometry/support/aaBoundingBox.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";export default class{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new s,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=o(i);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(d(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(s){if(!s)return;const i=s.objectId;if(null==i)return void t.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new r(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:s}));const d=this._featuresById.get(i);let n;if(this._markedIds.add(i),d?(s.displayId=d.displayId,n=this._boundsStore.get(i),this._boundsStore.delete(i)):e(this.onFeatureAdd)&&this.onFeatureAdd(s),!s.geometry||!s.geometry.coords||!s.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,s);n=a(n||o(),s.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i,n),this._featuresById.set(i,s)}_remove(t){return e(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=/^\\s*\"([\\S\\s]*)\"\\s*$/,t=/\"\"/g,e=[\",\",\" \",\";\",\"|\",\"\\t\"];function o(n,t){const e={},o=n.length;for(let r=0;r<o;r++)e[n[r]]=t[r];return e}function*r(n,t,e){let o=0;for(;o<=n.length;){const r=n.indexOf(t,o),i=n.substring(o,r>-1?r:void 0);o+=i.length+1,e&&!i.trim()||(yield i)}}function i(n){const t=n.includes(\"\\r\\n\")?\"\\r\\n\":\"\\n\";return r(n,t,!0)}function c(n,t){return r(n,t,!1)}function f(n){const t=n.trim();let o=0,r=\"\";for(const n of e){const e=t.split(n).length;e>o&&(o=e,r=n)}return\"\"===r?null:r}function*s(e,r,i){let f=\"\",s=\"\",l=0,d=[];n:for(;;){const{value:x,done:g}=e.next();if(g)return;const h=c(x,i);t:for(;;){const{value:e,done:o}=h.next();if(o)break t;if(f+=s+e,s=\"\",l+=u(e),l%2==0){if(l>0){const e=n.exec(f);if(!e){d=[],f=\"\",l=0;continue n}d.push(e[1].replace(t,'\"'))}else d.push(f);f=\"\",l=0}else s=i}0===l?(yield o(r,d),d=[]):s=\"\\n\"}}function u(n){let t=0,e=0;for(e=n.indexOf('\"',e);e>=0;)t++,e=n.indexOf('\"',e+1);return t}export{f as inferDelimiter,s as parseRows,c as readRowParts,i as readRows};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{mixin as t}from\"../../../../core/lang.js\";import i from\"../../../../core/Error.js\";import{urlToObject as n,getFilename as r}from\"../../../../core/urlUtils.js\";import{all as o}from\"../../../../core/promiseUtils.js\";import{equals as l,isWebMercator as s,WGS84 as a}from\"../../../../geometry/support/spatialReferenceUtils.js\";import d from\"../../../../geometry/SpatialReference.js\";import{lngLatToXY as u}from\"../../../../geometry/support/webMercatorUtils.js\";import\"../../../../geometry.js\";import c from\"../../../../request.js\";import{projectMany as m}from\"../../../../geometry/projection.js\";import{_parseInfo as f}from\"../../../../core/number.js\";import p from\"../../OptimizedFeature.js\";import y from\"../../OptimizedGeometry.js\";import g from\"../../../support/FieldsIndex.js\";import{jsonAdapter as F}from\"../../../../geometry/geometryAdapters/json.js\";import{checkProjectionSupport as h}from\"../../data/projectionSupport.js\";import{createDrawingInfo as I}from\"./clientSideDefaults.js\";import N from\"../../data/FeatureStore.js\";import _ from\"../../data/QueryEngine.js\";import{readRows as x,inferDelimiter as b,parseRows as T}from\"../csv/csv.js\";const j=I(\"esriGeometryPoint\"),w=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"],E=[\"lat\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point-y\"],D=[\"lon\",\"lng\",\"long\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point-x\"],q=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,v=[\"csv\"],S=[0,0];class C{constructor(e,t){this.x=e,this.y=t}}const V=function(){const e=f(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),n=e.factor;return function(r){const o=t.exec(r);if(e.factor=n,!o)return NaN;let l=o[1];if(!o[1]){if(!o[2])return NaN;l=o[2],e.factor*=-1}return l=l.replace(i,\"\").replace(e.decimal,\".\"),+l*e.factor}}(),k=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;export default class{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[i]=await o([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),n=this._parse(i,e);if(this._queryEngine=this._createQueryEngine(i,n),n.layerDefinition.extent=this._queryEngine.fullExtent,n.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;n.layerDefinition.timeInfo.timeExtent=[e,t]}return n}async applyEdits(){throw new i(\"csv-source:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}async _fetch(e,t){if(!e)throw new i(\"csv-source:invalid-source\",\"url not defined\");const r=n(e);return(await c(r.path,{query:r.query,responseType:\"text\",signal:t.signal})).data}_parse(e,n){const o=n.parsing||{},l={columnDelimiter:o.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:o.latitudeField,longitudeFieldName:o.longitudeField}},s=x(e);let{value:a}=s.next();if(!a)throw new i(\"csv\",\"CSV is empty\",{csv:e});if(a=a.trim(),!o.columnDelimiter){const e=b(a);if(!e)throw new i(\"csv-source:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");l.columnDelimiter=e}const d=a.split(l.columnDelimiter),u=l.layerDefinition={name:r(n.url,v)||\"csv\",drawingInfo:j,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:o.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:o.spatialReference||{wkid:102100}}};if(!o.latitudeField||!o.longitudeField){const e=this._inferLocationInfo(d);if(!o.longitudeField&&!e.longitudeFieldName||!o.latitudeField&&!e.latitudeFieldName)throw new i(\"csv\",\"Unable to identify latitudeField and/or longitudeField from CSV\");l.locationInfo={longitudeFieldName:o.longitudeField||e.longitudeFieldName,latitudeFieldName:o.latitudeField||e.latitudeFieldName}}const c=this._inferFields(s,l.columnDelimiter,d,l.locationInfo);if(o.fields&&o.fields.length){const e=new Map;for(const t of o.fields)e.set(t.name.toLowerCase(),t);for(const i of c){const n=e.get(i.name.toLowerCase());if(n){const e=i.name;t(i,n),i.name=e}}}u.fields=c;if(!u.fields.some((e=>\"esriFieldTypeOID\"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new g(u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return l}_inferLocationInfo(e){let t=null,i=null;const n=t=>e.find((e=>e.toLowerCase()===t));return D.some((e=>(t=n(e),!!t))),E.some((e=>(i=n(e),!!i))),{longitudeFieldName:t,latitudeFieldName:i}}_inferFields(e,t,i,n){const r=[],o=T(e,i,t),l=[];e:for(;l.length<10;){const{value:e,done:t}=o.next();if(t)break e;l.push(e)}for(const e of i)if(e===n.longitudeFieldName||e===n.latitudeFieldName)r.push({name:e,type:\"esriFieldTypeDouble\",alias:e});else{const t=l.map((t=>t[e])),i=this._inferFieldType(t),n={name:e,type:null,alias:e};switch(i){case\"integer\":n.type=\"esriFieldTypeInteger\";break;case\"double\":n.type=\"esriFieldTypeDouble\";break;case\"date\":n.type=\"esriFieldTypeDate\",n.length=36;break;default:n.type=\"esriFieldTypeString\",n.length=255}r.push(n)}return r}_inferFieldType(e){if(!e.length)return\"string\";const t=/[^+-.,0-9]/;return e.map((e=>{let i=!1;if(\"\"!==e){if(t.test(e))i=!0;else{let t=V(e);if(!isNaN(t))return/[.,]/.test(e)||!k(t)||t>214783647||t<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))i=!0;else{if(t=Number(e),!isNaN(t))return\"double\";if(-1===e.indexOf(\",\"))i=!0;else{if(e=e.replace(\",\",\".\"),t=Number(e),!isNaN(t))return\"double\";i=!0}}}if(i){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?\"date\":\"string\"}return\"string\"}return\"string\"}})).reduce(((e,t)=>void 0===e||e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}_isValidDate(t,i){if(!t||\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;let n=!0;if(e(\"chrome\")&&/\\d+\\W*$/.test(i)){const e=i.match(/[a-zA-Z]{2,}/);if(e){let t=!1,i=0;for(;!t&&i<=e.length;)t=!q.test(e[i]),i++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:i,longitudeFieldName:n}=t.locationInfo,{objectIdField:r,fields:o,extent:a,timeInfo:c}=t.layerDefinition;let f=[];const g=[],h=new Set,I=new Set,b=[];for(const{name:e,type:t}of o)\"esriFieldTypeDate\"===t?h.add(e):w.indexOf(t)>-1&&I.add(e),e!==r&&b.push(e);let j=0;const E=x(e);E.next();const D=T(E,b,t.columnDelimiter);e:for(;;){const{value:e,done:t}=D.next();if(t)break e;const o=this._parseCoordinateValue(e[i]),l=this._parseCoordinateValue(e[n]);if(null!=l&&null!=o&&!isNaN(o)&&!isNaN(l)){e[i]=o,e[n]=l;for(const t in e)if(t!==i&&t!==n)if(h.has(t)){const i=new Date(e[t]);e[t]=this._isValidDate(i,e[t])?i.getTime():null}else if(I.has(t)){const i=V(e[t]);isNaN(i)?e[t]=null:e[t]=i}e[r]=j,j++,f.push(new C(l,o)),g.push(e)}}if(!l({wkid:4326},a.spatialReference))if(s(a.spatialReference))for(const e of f)[e.x,e.y]=u(e.x,e.y,S);else f=m(F,f,d.WGS84,a.spatialReference,null);const q=new N({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1}),v=new _({fields:t.layerDefinition.fields,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:c,objectIdField:r,spatialReference:a.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:q}),k=[];for(let e=0;e<f.length;e++){const{x:t,y:i}=f[e],n=g[e];n[r]=e+1,k.push(new p(new y([],[t,i]),n,null,n[r]))}return q.addMany(k),v}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=V(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await h(a,e)}catch{throw new i(\"csv-layer\",\"Projection not supported\")}}}export{E as csvLatitudeFieldNames,D as csvLongitudeFieldNames};\n"],"sourceRoot":""}