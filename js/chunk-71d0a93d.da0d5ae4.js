(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71d0a93d"],{"15ec":function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n("e041"),l=n("0224");function r(e){return{origin:"portal-item",url:Object(t["I"])(e.itemUrl),portal:e.portal||l["a"].getDefault(),portalItem:e,readResourcePaths:[]}}},"3b92":function(e,a,n){"use strict";n.r(a),n.d(a,"load",(function(){return o}));var t=n("ce50"),l=n("f4cc"),r=n("2eab"),u=n("0224"),c=n("60ec"),i=n("15ec"),d=n("a0b4");async function o(e,a){const n=e.instance.portalItem;return n&&n.id?(await n.load(a),function(e){const a=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(a.type))throw new t["a"]("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:a.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,a){const n=e.instance,u=n.portalItem,{url:o,title:y}=u,p=Object(i["a"])(u);if("group"===n.type)return n.read({title:y},p),function(e,a){let n;const u=e.portalItem.type;switch(u){case"Feature Service":n=d["a"].FeatureLayer;break;case"Stream Service":n=d["a"].StreamLayer;break;case"Scene Service":n=d["a"].SceneLayer;break;case"Feature Collection":n=d["a"].FeatureLayer;break;default:throw new t["a"]("portal:unsupported-item-type-as-group",`The item type '${u}' is not supported as a 'GroupLayer'`)}let c;return n().then(e=>(c=e,f(a))).then(a=>h(a)>0?s(e,c,a):function(e,a){if(!e.portalItem.url)return Object(l["u"])();const n={responseType:"json",query:{f:"json"}};return Object(r["default"])(e.portalItem.url,n).then(n=>{var t,l;const r=n.data;function u(e){return{id:e.id,name:e.name}}r&&s(e,a,{layers:null==(t=r.layers)?void 0:t.map(u),tables:null==(l=r.tables)?void 0:l.map(u)})})}(e,c))}(n,e);o&&n.read({url:o},p);const b=await f(e,a);return b&&n.read(b,p),n.resourceReferences={portalItem:u,paths:p.readResourcePaths},n.read({title:y},p),Object(c["a"])(n,p)}(e,a)):Object(l["u"])()}function s(e,a,n){let t=n.layers||[];const l=n.tables||[];"Feature Collection"===e.portalItem.type&&(t.forEach(e=>{var a;"Table"===(null==e||null==(a=e.layerDefinition)?void 0:a.type)&&l.push(e)}),t=t.filter(e=>{var a;return"Table"!==(null==e||null==(a=e.layerDefinition)?void 0:a.type)})),t.reverse().forEach(t=>{const l=y(e,a,n,t);e.add(l)}),l.reverse().forEach(t=>{const l=y(e,a,n,t);e.tables.add(l)})}function y(e,a,n,t){const l=new a({portalItem:e.portalItem.clone(),layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const a={origin:"portal-item",portal:e.portalItem.portal||u["a"].getDefault()};l.read(t,a);const r=n.showLegend;null!=r&&l.read({showLegend:r},a)}return l}function f(e,a){if(!1===e.supportsData)return Object(l["u"])();const n=e.instance;return n.portalItem.fetchData("json",a).catch(()=>null).then(e=>{const a=e;let t;if(function(e){return"stream"!==e.type&&"layerId"in e}(n)){let l=!0;return e&&h(a)>0&&(null==n.layerId&&(n.layerId=function(e){const a=e.layers;if(a&&a.length)return a[0].id;const n=e.tables;return n&&n.length?n[0].id:null}(a)),t=function(e,a){const n=e.layers;if(n)for(let l=0;l<n.length;l++)if(n[l].id===a)return n[l];const t=e.tables;if(t)for(let l=0;l<t.length;l++)if(t[l].id===a)return t[l];return null}(a,n.layerId),t&&(1===h(a)&&(l=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))),l&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),t}return e})}function h(e){var a,n,t,l;return(null!=(a=null==e||null==(n=e.layers)?void 0:n.length)?a:0)+(null!=(t=null==e||null==(l=e.tables)?void 0:l.length)?t:0)}},a0b4:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));const t={BingMapsLayer:async()=>(await n.e("chunk-2d0a4f14").then(n.bind(null,"091f"))).default,BuildingSceneLayer:async()=>(await n.e("chunk-73530c9e").then(n.bind(null,"4d64e"))).default,CSVLayer:async()=>(await Promise.resolve().then(n.bind(null,"2a7d"))).default,ElevationLayer:async()=>(await n.e("chunk-15c3b8fe").then(n.bind(null,"f20e"))).default,FeatureLayer:async()=>(await Promise.resolve().then(n.bind(null,"5bd5"))).default,GroupLayer:async()=>(await n.e("chunk-2d0c8892").then(n.bind(null,"54fc"))).default,GeoRSSLayer:async()=>(await n.e("chunk-2d0a33b6").then(n.bind(null,"00ff"))).default,ImageryLayer:async()=>(await Promise.all([n.e("chunk-35a24fac"),n.e("chunk-730321be"),n.e("chunk-65db3208")]).then(n.bind(null,"fc65"))).default,ImageryTileLayer:async()=>(await Promise.all([n.e("chunk-35a24fac"),n.e("chunk-730321be"),n.e("chunk-30099953")]).then(n.bind(null,"9917"))).default,IntegratedMeshLayer:async()=>(await n.e("chunk-4690f615").then(n.bind(null,"cafc"))).default,KMLLayer:async()=>(await n.e("chunk-70b2ed33").then(n.bind(null,"f5fc"))).default,MapImageLayer:async()=>(await n.e("chunk-0e3f10a2").then(n.bind(null,"53f8"))).default,MapNotesLayer:async()=>(await n.e("chunk-2d0d317d").then(n.bind(null,"5afa"))).default,OpenStreetMapLayer:async()=>(await n.e("chunk-88f92b30").then(n.bind(null,"8c58"))).default,PointCloudLayer:async()=>(await n.e("chunk-124e2e0e").then(n.bind(null,"44bb"))).default,RouteLayer:async()=>(await n.e("chunk-2d20f003").then(n.bind(null,"b285"))).default,SceneLayer:async()=>(await n.e("chunk-c9e3cb4a").then(n.bind(null,"d321"))).default,StreamLayer:async()=>(await n.e("chunk-2d21a92d").then(n.bind(null,"bba8"))).default,TileLayer:async()=>(await n.e("chunk-327d8bdb").then(n.bind(null,"2650"))).default,UnknownLayer:async()=>(await n.e("chunk-2d209b4c").then(n.bind(null,"a9ca"))).default,UnsupportedLayer:async()=>(await n.e("chunk-2d0ac5dd").then(n.bind(null,"18dd"))).default,VectorTileLayer:async()=>(await Promise.all([n.e("chunk-660f3f2a"),n.e("chunk-3db7ae48")]).then(n.bind(null,"173c"))).default,WebTileLayer:async()=>(await n.e("chunk-06ad9dad").then(n.bind(null,"9dc3"))).default,WMSLayer:async()=>(await n.e("chunk-3ce56f39").then(n.bind(null,"8760"))).default,WMTSLayer:async()=>(await n.e("chunk-6964ca64").then(n.bind(null,"b039"))).default}}}]);
//# sourceMappingURL=chunk-71d0a93d.da0d5ae4.js.map